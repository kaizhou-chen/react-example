import{r as f,R as Oe,i as Er,k as Vn,c as xr,g as Kn,j as he}from"./index.DuhVyv5o.2024-08-23_10.18.03.js";import{h as sn}from"./http.DZFHxUTc.2024-08-23_10.18.03.js";import{u as Zn,F as Qn}from"./index.DGokYlxL.2024-08-23_10.18.03.js";import{D as Or}from"./index.-8l2LQXb.2024-08-23_10.18.03.js";import{c as re,i as q,B as dr,j as ne,E as de,F as Jn,G as eo,d as qe,_ as Te,b as Fe,H as mr,g as cn,m as Jt,T as Xe,v as vr,u as ye,C as gt,z as er,J as to,K as un,L as fn,N as pn,O as Se,P as dn,Q as mn,U as Pr,V as Rr,r as ro,W as no,X as oo}from"./main.OjSk1lJ5.2024-08-23_10.18.03.js";import{_ as Je,a as $e,L as Ar}from"./Compact.CjZqcds0.2024-08-23_10.18.03.js";import{p as ao}from"./pickAttrs.EkmwTggh.2024-08-23_10.18.03.js";import{P as io,u as At,a as vn,g as Nt,i as lo}from"./index.BuUxO0_G.2024-08-23_10.18.03.js";import{g as so}from"./collapse.BbEVqHco.2024-08-23_10.18.03.js";import{D as co,g as uo,i as yn}from"./index.FLogtHD5.2024-08-23_10.18.03.js";import{R as fo,b as po,Z as mo,d as vo,S as Nr,D as yo,a as go,F as ho,P as wo,c as bo}from"./UploadOutlined.DWye48nt.2024-08-23_10.18.03.js";import{u as So}from"./useForceUpdate.B2o4wwE4.2024-08-23_10.18.03.js";import{c as Dr}from"./reactNode.CIjHXIU4.2024-08-23_10.18.03.js";import{B as tr}from"./button.CxjCH1x_.2024-08-23_10.18.03.js";import{R as Co}from"./DeleteOutlined.BSf_SPnq.2024-08-23_10.18.03.js";import{E as gn}from"./EyeOutlined.4ttGaszu.2024-08-23_10.18.03.js";import{P as $o}from"./progress.yFmKvJhc.2024-08-23_10.18.03.js";import{i as Io,u as hn,T as Eo}from"./index.4_QlPCWs.2024-08-23_10.18.03.js";import{R as xo}from"./PlusOutlined.DzoNsZ58.2024-08-23_10.18.03.js";import{g as wn,a as et,b as Oo}from"./addEventListener.ntxgevWU.2024-08-23_10.18.03.js";import{K as rr}from"./KeyCode.DNlgD2sM.2024-08-23_10.18.03.js";import{R as Po}from"./CloseOutlined.Cxfncamn.2024-08-23_10.18.03.js";import{R as Ro,a as Ao}from"./LeftOutlined.Cb3ECoo6.2024-08-23_10.18.03.js";import"./ContextIsolator.6qj9FYfT.2024-08-23_10.18.03.js";import"./useSize.DatPpex6.2024-08-23_10.18.03.js";import"./row.DqtqsE4d.2024-08-23_10.18.03.js";import"./responsiveObserver.CzdNfelf.2024-08-23_10.18.03.js";import"./QuestionCircleOutlined.C6FyC1gq.2024-08-23_10.18.03.js";import"./compact-item.5orumCwJ.2024-08-23_10.18.03.js";import"./CheckOutlined.DcfTzwVm.2024-08-23_10.18.03.js";var ht=f.createContext(null),No=function(e){var r=e.visible,n=e.maskTransitionName,o=e.getContainer,a=e.prefixCls,l=e.rootClassName,i=e.icons,s=e.countRender,c=e.showSwitch,u=e.showProgress,p=e.current,d=e.transform,g=e.count,v=e.scale,b=e.minScale,C=e.maxScale,S=e.closeIcon,I=e.onSwitchLeft,y=e.onSwitchRight,h=e.onClose,m=e.onZoomIn,x=e.onZoomOut,w=e.onRotateRight,$=e.onRotateLeft,O=e.onFlipX,R=e.onFlipY,E=e.onReset,D=e.toolbarRender,T=e.zIndex,j=e.image,z=f.useContext(ht),U=i.rotateLeft,N=i.rotateRight,ae=i.zoomIn,V=i.zoomOut,J=i.close,ce=i.left,K=i.right,ee=i.flipX,P=i.flipY,X="".concat(a,"-operations-operation");f.useEffect(function(){var H=function(ie){ie.keyCode===rr.ESC&&h()};return r&&window.addEventListener("keydown",H),function(){window.removeEventListener("keydown",H)}},[r]);var Z=[{icon:P,onClick:R,type:"flipY"},{icon:ee,onClick:O,type:"flipX"},{icon:U,onClick:$,type:"rotateLeft"},{icon:N,onClick:w,type:"rotateRight"},{icon:V,onClick:x,type:"zoomOut",disabled:v<=b},{icon:ae,onClick:m,type:"zoomIn",disabled:v===C}],B=Z.map(function(H){var M,ie=H.icon,Q=H.onClick,F=H.type,k=H.disabled;return f.createElement("div",{className:re(X,(M={},q(M,"".concat(a,"-operations-operation-").concat(F),!0),q(M,"".concat(a,"-operations-operation-disabled"),!!k),M)),onClick:Q,key:F},ie)}),oe=f.createElement("div",{className:"".concat(a,"-operations")},B);return f.createElement(dr,{visible:r,motionName:n},function(H){var M=H.className,ie=H.style;return f.createElement(io,{open:!0,getContainer:o??document.body},f.createElement("div",{className:re("".concat(a,"-operations-wrapper"),M,l),style:ne(ne({},ie),{},{zIndex:T})},S===null?null:f.createElement("button",{className:"".concat(a,"-close"),onClick:h},S||J),c&&f.createElement(f.Fragment,null,f.createElement("div",{className:re("".concat(a,"-switch-left"),q({},"".concat(a,"-switch-left-disabled"),p===0)),onClick:I},ce),f.createElement("div",{className:re("".concat(a,"-switch-right"),q({},"".concat(a,"-switch-right-disabled"),p===g-1)),onClick:y},K)),f.createElement("div",{className:"".concat(a,"-footer")},u&&f.createElement("div",{className:"".concat(a,"-progress")},s?s(p+1,g):"".concat(p+1," / ").concat(g)),D?D(oe,ne(ne({icons:{flipYIcon:B[0],flipXIcon:B[1],rotateLeftIcon:B[2],rotateRightIcon:B[3],zoomOutIcon:B[4],zoomInIcon:B[5]},actions:{onFlipY:R,onFlipX:O,onRotateLeft:$,onRotateRight:w,onZoomOut:x,onZoomIn:m,onReset:E,onClose:h},transform:d},z?{current:p,total:g}:{}),{},{image:j})):oe)))})},Ct={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Do(t,e,r,n){var o=f.useRef(null),a=f.useRef([]),l=f.useState(Ct),i=de(l,2),s=i[0],c=i[1],u=function(v){c(Ct),Jn(Ct,s)||n==null||n({transform:Ct,action:v})},p=function(v,b){o.current===null&&(a.current=[],o.current=eo(function(){c(function(C){var S=C;return a.current.forEach(function(I){S=ne(ne({},S),I)}),o.current=null,n==null||n({transform:S,action:b}),S})})),a.current.push(ne(ne({},s),v))},d=function(v,b,C,S,I){var y=t.current,h=y.width,m=y.height,x=y.offsetWidth,w=y.offsetHeight,$=y.offsetLeft,O=y.offsetTop,R=v,E=s.scale*v;E>r?(E=r,R=r/s.scale):E<e&&(E=I?E:e,R=E/s.scale);var D=C??innerWidth/2,T=S??innerHeight/2,j=R-1,z=j*h*.5,U=j*m*.5,N=j*(D-s.x-$),ae=j*(T-s.y-O),V=s.x-(N-z),J=s.y-(ae-U);if(v<1&&E===1){var ce=x*E,K=w*E,ee=wn(),P=ee.width,X=ee.height;ce<=P&&K<=X&&(V=0,J=0)}p({x:V,y:J,scale:E},b)};return{transform:s,resetTransform:u,updateTransform:p,dispatchZoomChange:d}}function Tr(t,e,r,n){var o=e+r,a=(r-n)/2;if(r>n){if(e>0)return q({},t,a);if(e<0&&o<n)return q({},t,-a)}else if(e<0||o>n)return q({},t,e<0?a:-a);return{}}function bn(t,e,r,n){var o=wn(),a=o.width,l=o.height,i=null;return t<=a&&e<=l?i={x:0,y:0}:(t>a||e>l)&&(i=ne(ne({},Tr("x",r,t,a)),Tr("y",n,e,l))),i}var tt=1,To=1;function Mo(t,e,r,n,o,a,l){var i=o.rotate,s=o.scale,c=o.x,u=o.y,p=f.useState(!1),d=de(p,2),g=d[0],v=d[1],b=f.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),C=function(m){!e||m.button!==0||(m.preventDefault(),m.stopPropagation(),b.current={diffX:m.pageX-c,diffY:m.pageY-u,transformX:c,transformY:u},v(!0))},S=function(m){r&&g&&a({x:m.pageX-b.current.diffX,y:m.pageY-b.current.diffY},"move")},I=function(){if(r&&g){v(!1);var m=b.current,x=m.transformX,w=m.transformY,$=c!==x&&u!==w;if(!$)return;var O=t.current.offsetWidth*s,R=t.current.offsetHeight*s,E=t.current.getBoundingClientRect(),D=E.left,T=E.top,j=i%180!==0,z=bn(j?R:O,j?O:R,D,T);z&&a(ne({},z),"dragRebound")}},y=function(m){if(!(!r||m.deltaY==0)){var x=Math.abs(m.deltaY/100),w=Math.min(x,To),$=tt+w*n;m.deltaY>0&&($=tt/$),l($,"wheel",m.clientX,m.clientY)}};return f.useEffect(function(){var h,m,x,w;if(e){x=et(window,"mouseup",I,!1),w=et(window,"mousemove",S,!1);try{window.top!==window.self&&(h=et(window.top,"mouseup",I,!1),m=et(window.top,"mousemove",S,!1))}catch{}}return function(){var $,O,R,E;($=x)===null||$===void 0||$.remove(),(O=w)===null||O===void 0||O.remove(),(R=h)===null||R===void 0||R.remove(),(E=m)===null||E===void 0||E.remove()}},[r,g,c,u,i,e]),{isMoving:g,onMouseDown:C,onMouseMove:S,onMouseUp:I,onWheel:y}}function Fo(t){return new Promise(function(e){var r=document.createElement("img");r.onerror=function(){return e(!1)},r.onload=function(){return e(!0)},r.src=t})}function Sn(t){var e=t.src,r=t.isCustomPlaceholder,n=t.fallback,o=f.useState(r?"loading":"normal"),a=de(o,2),l=a[0],i=a[1],s=f.useRef(!1),c=l==="error";f.useEffect(function(){var g=!0;return Fo(e).then(function(v){!v&&g&&i("error")}),function(){g=!1}},[e]),f.useEffect(function(){r&&!s.current?i("loading"):c&&i("normal")},[e]);var u=function(){i("normal")},p=function(v){s.current=!1,l==="loading"&&v!==null&&v!==void 0&&v.complete&&(v.naturalWidth||v.naturalHeight)&&(s.current=!0,u())},d=c&&n?{src:n}:{onLoad:u,src:e};return[p,d,l]}function Dt(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.hypot(r,n)}function Lo(t,e,r,n){var o=Dt(t,r),a=Dt(e,n);if(o===0&&a===0)return[t.x,t.y];var l=o/(o+a),i=t.x+l*(e.x-t.x),s=t.y+l*(e.y-t.y);return[i,s]}function _o(t,e,r,n,o,a,l){var i=o.rotate,s=o.scale,c=o.x,u=o.y,p=f.useState(!1),d=de(p,2),g=d[0],v=d[1],b=f.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),C=function(m){b.current=ne(ne({},b.current),m)},S=function(m){if(e){m.stopPropagation(),v(!0);var x=m.touches,w=x===void 0?[]:x;w.length>1?C({point1:{x:w[0].clientX,y:w[0].clientY},point2:{x:w[1].clientX,y:w[1].clientY},eventType:"touchZoom"}):C({point1:{x:w[0].clientX-c,y:w[0].clientY-u},eventType:"move"})}},I=function(m){var x=m.touches,w=x===void 0?[]:x,$=b.current,O=$.point1,R=$.point2,E=$.eventType;if(w.length>1&&E==="touchZoom"){var D={x:w[0].clientX,y:w[0].clientY},T={x:w[1].clientX,y:w[1].clientY},j=Lo(O,R,D,T),z=de(j,2),U=z[0],N=z[1],ae=Dt(D,T)/Dt(O,R);l(ae,"touchZoom",U,N,!0),C({point1:D,point2:T,eventType:"touchZoom"})}else E==="move"&&(a({x:w[0].clientX-O.x,y:w[0].clientY-O.y},"move"),C({eventType:"move"}))},y=function(){if(r){if(g&&v(!1),C({eventType:"none"}),n>s)return a({x:0,y:0,scale:n},"touchZoom");var m=t.current.offsetWidth*s,x=t.current.offsetHeight*s,w=t.current.getBoundingClientRect(),$=w.left,O=w.top,R=i%180!==0,E=bn(R?x:m,R?m:x,$,O);E&&a(ne({},E),"dragRebound")}};return f.useEffect(function(){var h;return r&&e&&(h=et(window,"touchmove",function(m){return m.preventDefault()},{passive:!1})),function(){var m;(m=h)===null||m===void 0||m.remove()}},[r,e]),{isTouching:g,onTouchStart:S,onTouchMove:I,onTouchEnd:y}}var jo=["fallback","src","imgRef"],zo=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Uo=function(e){var r=e.fallback,n=e.src,o=e.imgRef,a=qe(e,jo),l=Sn({src:n,fallback:r}),i=de(l,2),s=i[0],c=i[1];return Oe.createElement("img",Te({ref:function(p){o.current=p,s(p)}},a,c))},Cn=function(e){var r=e.prefixCls,n=e.src,o=e.alt,a=e.imageInfo,l=e.fallback,i=e.movable,s=i===void 0?!0:i,c=e.onClose,u=e.visible,p=e.icons,d=p===void 0?{}:p,g=e.rootClassName,v=e.closeIcon,b=e.getContainer,C=e.current,S=C===void 0?0:C,I=e.count,y=I===void 0?1:I,h=e.countRender,m=e.scaleStep,x=m===void 0?.5:m,w=e.minScale,$=w===void 0?1:w,O=e.maxScale,R=O===void 0?50:O,E=e.transitionName,D=E===void 0?"zoom":E,T=e.maskTransitionName,j=T===void 0?"fade":T,z=e.imageRender,U=e.imgCommonProps,N=e.toolbarRender,ae=e.onTransform,V=e.onChange,J=qe(e,zo),ce=f.useRef(),K=f.useContext(ht),ee=K&&y>1,P=K&&y>=1,X=f.useState(!0),Z=de(X,2),B=Z[0],oe=Z[1],H=Do(ce,$,R,ae),M=H.transform,ie=H.resetTransform,Q=H.updateTransform,F=H.dispatchZoomChange,k=Mo(ce,s,u,x,M,Q,F),me=k.isMoving,Le=k.onMouseDown,Pe=k.onWheel,ge=_o(ce,s,u,$,M,Q,F),we=ge.isTouching,be=ge.onTouchStart,Ie=ge.onTouchMove,Me=ge.onTouchEnd,Ee=M.rotate,xe=M.scale,ct=re(q({},"".concat(r,"-moving"),me));f.useEffect(function(){B||oe(!0)},[B]);var ut=function(){ie("close")},ft=function(){F(tt+x,"zoomIn")},Re=function(){F(tt/(tt+x),"zoomOut")},Ce=function(){Q({rotate:Ee+90},"rotateRight")},_e=function(){Q({rotate:Ee-90},"rotateLeft")},Ye=function(){Q({flipX:!M.flipX},"flipX")},Ve=function(){Q({flipY:!M.flipY},"flipY")},St=function(){ie("reset")},A=function(Y){Y==null||Y.preventDefault(),Y==null||Y.stopPropagation(),S>0&&(oe(!1),ie("prev"),V==null||V(S-1,S))},W=function(Y){Y==null||Y.preventDefault(),Y==null||Y.stopPropagation(),S<y-1&&(oe(!1),ie("next"),V==null||V(S+1,S))},te=function(Y){!u||!ee||(Y.keyCode===rr.LEFT?A():Y.keyCode===rr.RIGHT&&W())},L=function(Y){u&&(xe!==1?Q({x:0,y:0,scale:1},"doubleClick"):F(tt+x,"doubleClick",Y.clientX,Y.clientY))};f.useEffect(function(){var se=et(window,"keydown",te,!1);return function(){se.remove()}},[u,ee,S]);var G=Oe.createElement(Uo,Te({},U,{width:e.width,height:e.height,imgRef:ce,className:"".concat(r,"-img"),alt:o,style:{transform:"translate3d(".concat(M.x,"px, ").concat(M.y,"px, 0) scale3d(").concat(M.flipX?"-":"").concat(xe,", ").concat(M.flipY?"-":"").concat(xe,", 1) rotate(").concat(Ee,"deg)"),transitionDuration:(!B||we)&&"0s"},fallback:l,src:n,onWheel:Pe,onMouseDown:Le,onDoubleClick:L,onTouchStart:be,onTouchMove:Ie,onTouchEnd:Me,onTouchCancel:Me})),fe=ne({url:n,alt:o},a);return Oe.createElement(Oe.Fragment,null,Oe.createElement(co,Te({transitionName:D,maskTransitionName:j,closable:!1,keyboard:!0,prefixCls:r,onClose:c,visible:u,classNames:{wrapper:ct},rootClassName:g,getContainer:b},J,{afterClose:ut}),Oe.createElement("div",{className:"".concat(r,"-img-wrapper")},z?z(G,ne({transform:M,image:fe},K?{current:S}:{})):G)),Oe.createElement(No,{visible:u,transform:M,maskTransitionName:j,closeIcon:v,getContainer:b,prefixCls:r,rootClassName:g,icons:d,countRender:h,showSwitch:ee,showProgress:P,current:S,count:y,scale:xe,minScale:$,maxScale:R,toolbarRender:N,onSwitchLeft:A,onSwitchRight:W,onZoomIn:ft,onZoomOut:Re,onRotateRight:Ce,onRotateLeft:_e,onFlipX:Ye,onFlipY:Ve,onClose:c,onReset:St,zIndex:J.zIndex!==void 0?J.zIndex+1:void 0,image:fe}))},nr=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function ko(t){var e=f.useState({}),r=de(e,2),n=r[0],o=r[1],a=f.useCallback(function(i,s){return o(function(c){return ne(ne({},c),{},q({},i,s))}),function(){o(function(c){var u=ne({},c);return delete u[i],u})}},[]),l=f.useMemo(function(){return t?t.map(function(i){if(typeof i=="string")return{data:{src:i}};var s={};return Object.keys(i).forEach(function(c){["src"].concat(Fe(nr)).includes(c)&&(s[c]=i[c])}),{data:s}}):Object.keys(n).reduce(function(i,s){var c=n[s],u=c.canPreview,p=c.data;return u&&i.push({data:p,id:s}),i},[])},[t,n]);return[l,a,!!t]}var Bo=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Wo=["src"],Xo=function(e){var r,n=e.previewPrefixCls,o=n===void 0?"rc-image-preview":n,a=e.children,l=e.icons,i=l===void 0?{}:l,s=e.items,c=e.preview,u=e.fallback,p=mr(c)==="object"?c:{},d=p.visible,g=p.onVisibleChange,v=p.getContainer,b=p.current,C=p.movable,S=p.minScale,I=p.maxScale,y=p.countRender,h=p.closeIcon,m=p.onChange,x=p.onTransform,w=p.toolbarRender,$=p.imageRender,O=qe(p,Bo),R=ko(s),E=de(R,3),D=E[0],T=E[1],j=E[2],z=At(0,{value:b}),U=de(z,2),N=U[0],ae=U[1],V=f.useState(!1),J=de(V,2),ce=J[0],K=J[1],ee=((r=D[N])===null||r===void 0?void 0:r.data)||{},P=ee.src,X=qe(ee,Wo),Z=At(!!d,{value:d,onChange:function(we,be){g==null||g(we,be,N)}}),B=de(Z,2),oe=B[0],H=B[1],M=f.useState(null),ie=de(M,2),Q=ie[0],F=ie[1],k=f.useCallback(function(ge,we,be,Ie){var Me=j?D.findIndex(function(Ee){return Ee.data.src===we}):D.findIndex(function(Ee){return Ee.id===ge});ae(Me<0?0:Me),H(!0),F({x:be,y:Ie}),K(!0)},[D,j]);f.useEffect(function(){oe?ce||ae(0):K(!1)},[oe]);var me=function(we,be){ae(we),m==null||m(we,be)},Le=function(){H(!1),F(null)},Pe=f.useMemo(function(){return{register:T,onPreview:k}},[T,k]);return f.createElement(ht.Provider,{value:Pe},a,f.createElement(Cn,Te({"aria-hidden":!oe,movable:C,visible:oe,prefixCls:o,closeIcon:h,onClose:Le,mousePosition:Q,imgCommonProps:X,src:P,fallback:u,icons:i,minScale:S,maxScale:I,getContainer:v,current:N,count:D.length,countRender:y,onTransform:x,toolbarRender:w,imageRender:$,onChange:me},O)))},Mr=0;function Ho(t,e){var r=f.useState(function(){return Mr+=1,String(Mr)}),n=de(r,1),o=n[0],a=f.useContext(ht),l={data:e,canPreview:t};return f.useEffect(function(){if(a)return a.register(o,l)},[]),f.useEffect(function(){a&&a.register(o,l)},[t,e]),o}var Go=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],qo=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],yr=function(e){var r=e.src,n=e.alt,o=e.onPreviewClose,a=e.prefixCls,l=a===void 0?"rc-image":a,i=e.previewPrefixCls,s=i===void 0?"".concat(l,"-preview"):i,c=e.placeholder,u=e.fallback,p=e.width,d=e.height,g=e.style,v=e.preview,b=v===void 0?!0:v,C=e.className,S=e.onClick,I=e.onError,y=e.wrapperClassName,h=e.wrapperStyle,m=e.rootClassName,x=qe(e,Go),w=c&&c!==!0,$=mr(b)==="object"?b:{},O=$.src,R=$.visible,E=R===void 0?void 0:R,D=$.onVisibleChange,T=D===void 0?o:D,j=$.getContainer,z=j===void 0?void 0:j,U=$.mask,N=$.maskClassName,ae=$.movable,V=$.icons,J=$.scaleStep,ce=$.minScale,K=$.maxScale,ee=$.imageRender,P=$.toolbarRender,X=qe($,qo),Z=O??r,B=At(!!E,{value:E,onChange:T}),oe=de(B,2),H=oe[0],M=oe[1],ie=Sn({src:r,isCustomPlaceholder:w,fallback:u}),Q=de(ie,3),F=Q[0],k=Q[1],me=Q[2],Le=f.useState(null),Pe=de(Le,2),ge=Pe[0],we=Pe[1],be=f.useContext(ht),Ie=!!b,Me=function(){M(!1),we(null)},Ee=re(l,y,m,q({},"".concat(l,"-error"),me==="error")),xe=f.useMemo(function(){var Re={};return nr.forEach(function(Ce){e[Ce]!==void 0&&(Re[Ce]=e[Ce])}),Re},nr.map(function(Re){return e[Re]})),ct=f.useMemo(function(){return ne(ne({},xe),{},{src:Z})},[Z,xe]),ut=Ho(Ie,ct),ft=function(Ce){var _e=Oo(Ce.target),Ye=_e.left,Ve=_e.top;be?be.onPreview(ut,Z,Ye,Ve):(we({x:Ye,y:Ve}),M(!0)),S==null||S(Ce)};return f.createElement(f.Fragment,null,f.createElement("div",Te({},x,{className:Ee,onClick:Ie?ft:S,style:ne({width:p,height:d},h)}),f.createElement("img",Te({},xe,{className:re("".concat(l,"-img"),q({},"".concat(l,"-img-placeholder"),c===!0),C),style:ne({height:d},g),ref:F},k,{width:p,height:d,onError:I})),me==="loading"&&f.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},c),U&&Ie&&f.createElement("div",{className:re("".concat(l,"-mask"),N),style:{display:(g==null?void 0:g.display)==="none"?"none":void 0}},U)),!be&&Ie&&f.createElement(Cn,Te({"aria-hidden":!H,visible:H,prefixCls:s,onClose:Me,mousePosition:ge,src:Z,alt:n,imageInfo:{width:p,height:d},fallback:u,getContainer:z,icons:V,movable:ae,scaleStep:J,minScale:ce,maxScale:K,rootClassName:m,imageRender:ee,imgCommonProps:xe,toolbarRender:P},X)))};yr.PreviewGroup=Xo;const or=t=>({position:t||"absolute",inset:0}),Yo=t=>{const{iconCls:e,motionDurationSlow:r,paddingXXS:n,marginXXS:o,prefixCls:a,colorTextLightSolid:l}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Xe("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${r}`,[`.${a}-mask-info`]:Object.assign(Object.assign({},vr),{padding:`0 ${ye(n)}`,[e]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},Vo=t=>{const{previewCls:e,modalMaskBg:r,paddingSM:n,marginXL:o,margin:a,paddingLG:l,previewOperationColorDisabled:i,previewOperationHoverColor:s,motionDurationSlow:c,iconCls:u,colorTextLightSolid:p}=t,d=new Xe(r).setAlpha(.1),g=d.clone().setAlpha(.2);return{[`${e}-footer`]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor,transform:"translateX(-50%)"},[`${e}-progress`]:{marginBottom:a},[`${e}-close`]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:p,backgroundColor:d.toRgbString(),borderRadius:"50%",padding:n,outline:0,border:0,cursor:"pointer",transition:`all ${c}`,"&:hover":{backgroundColor:g.toRgbString()},[`& > ${u}`]:{fontSize:t.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${ye(l)}`,backgroundColor:d.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:n,padding:n,cursor:"pointer",transition:`all ${c}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${u}`]:{color:s},"&-disabled":{color:i,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${u}`]:{fontSize:t.previewOperationSize}}}}},Ko=t=>{const{modalMaskBg:e,iconCls:r,previewOperationColorDisabled:n,previewCls:o,zIndexPopup:a,motionDurationSlow:l}=t,i=new Xe(e).setAlpha(.1),s=i.clone().setAlpha(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:t.calc(a).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:t.calc(t.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:t.previewOperationColor,background:i.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:s.toRgbString()},"&-disabled":{"&, &:hover":{color:n,background:"transparent",cursor:"not-allowed",[`> ${r}`]:{cursor:"not-allowed"}}},[`> ${r}`]:{fontSize:t.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:t.marginSM},[`${o}-switch-right`]:{insetInlineEnd:t.marginSM}}},Zo=t=>{const{motionEaseOut:e,previewCls:r,motionDurationSlow:n,componentCls:o}=t;return[{[`${o}-preview-root`]:{[r]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${r}-body`]:Object.assign(Object.assign({},or()),{overflow:"hidden"}),[`${r}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},or()),{transition:`transform ${n} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${r}-moving`]:{[`${r}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${r}-wrap`]:{zIndex:t.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",zIndex:t.calc(t.zIndexPopup).add(1).equal()},"&":[Vo(t),Ko(t)]}]},Qo=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},Yo(t)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},or())}}},Jo=t=>{const{previewCls:e}=t;return{[`${e}-root`]:Io(t,"zoom"),"&":yn(t,!0)}},ea=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new Xe(t.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new Xe(t.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new Xe(t.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}),$n=cn("Image",t=>{const e=`${t.componentCls}-preview`,r=Jt(t,{previewCls:e,modalMaskBg:new Xe("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[Qo(r),Zo(r),uo(Jt(r,{componentCls:e})),Jo(r)]},ea);var ta=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const In={rotateLeft:f.createElement(fo,null),rotateRight:f.createElement(po,null),zoomIn:f.createElement(mo,null),zoomOut:f.createElement(vo,null),close:f.createElement(Po,null),left:f.createElement(Ro,null),right:f.createElement(Ao,null),flipX:f.createElement(Nr,null),flipY:f.createElement(Nr,{rotate:90})},ra=t=>{var{previewPrefixCls:e,preview:r}=t,n=ta(t,["previewPrefixCls","preview"]);const{getPrefixCls:o}=f.useContext(gt),a=o("image",e),l=`${a}-preview`,i=o(),s=vn(a),[c,u,p]=$n(a,s),[d]=hn("ImagePreview",typeof r=="object"?r.zIndex:void 0),g=f.useMemo(()=>{var v;if(r===!1)return r;const b=typeof r=="object"?r:{},C=re(u,p,s,(v=b.rootClassName)!==null&&v!==void 0?v:"");return Object.assign(Object.assign({},b),{transitionName:Nt(i,"zoom",b.transitionName),maskTransitionName:Nt(i,"fade",b.maskTransitionName),rootClassName:C,zIndex:d})},[r]);return c(f.createElement(yr.PreviewGroup,Object.assign({preview:g,previewPrefixCls:l,icons:In},n)))},na=ra;var Fr=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const En=t=>{var e;const{prefixCls:r,preview:n,className:o,rootClassName:a,style:l}=t,i=Fr(t,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:s,locale:c=er,getPopupContainer:u,image:p}=f.useContext(gt),d=s("image",r),g=s(),v=c.Image||er.Image,b=vn(d),[C,S,I]=$n(d,b),y=re(a,S,I,b),h=re(o,S,p==null?void 0:p.className),[m]=hn("ImagePreview",typeof n=="object"?n.zIndex:void 0),x=f.useMemo(()=>{var $;if(n===!1)return n;const O=typeof n=="object"?n:{},{getContainer:R,closeIcon:E}=O,D=Fr(O,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:f.createElement("div",{className:`${d}-mask-info`},f.createElement(gn,null),v==null?void 0:v.preview),icons:In},D),{getContainer:R??u,transitionName:Nt(g,"zoom",O.transitionName),maskTransitionName:Nt(g,"fade",O.maskTransitionName),zIndex:m,closeIcon:E??(($=p==null?void 0:p.preview)===null||$===void 0?void 0:$.closeIcon)})},[n,v,(e=p==null?void 0:p.preview)===null||e===void 0?void 0:e.closeIcon]),w=Object.assign(Object.assign({},p==null?void 0:p.style),l);return C(f.createElement(yr,Object.assign({prefixCls:d,preview:x,rootClassName:y,className:h,style:w},i)))};En.PreviewGroup=na;const _t=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(","),n=t.name||"",o=t.type||"",a=o.replace(/\/.*$/,"");return r.some(function(l){var i=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(i.charAt(0)==="."){var s=n.toLowerCase(),c=i.toLowerCase(),u=[c];return(c===".jpg"||c===".jpeg")&&(u=[".jpg",".jpeg"]),u.some(function(p){return s.endsWith(p)})}return/\/\*$/.test(i)?a===i.replace(/\/.*$/,""):o===i?!0:/^\w+$/.test(i)?(to(!1,"Upload takes an invalidate 'accept' type '".concat(i,"'.Skip for check.")),!0):!1})}return!0};function oa(t,e){var r="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),n=new Error(r);return n.status=e.status,n.method=t.method,n.url=t.action,n}function Lr(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function aa(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(a){a.total>0&&(a.percent=a.loaded/a.total*100),t.onProgress(a)});var r=new FormData;t.data&&Object.keys(t.data).forEach(function(o){var a=t.data[o];if(Array.isArray(a)){a.forEach(function(l){r.append("".concat(o,"[]"),l)});return}r.append(o,a)}),t.file instanceof Blob?r.append(t.filename,t.file,t.file.name):r.append(t.filename,t.file),e.onerror=function(a){t.onError(a)},e.onload=function(){return e.status<200||e.status>=300?t.onError(oa(t,e),Lr(e)):t.onSuccess(Lr(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var n=t.headers||{};return n["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(o){n[o]!==null&&e.setRequestHeader(o,n[o])}),e.send(r),{abort:function(){e.abort()}}}var ia=function(){var t=Je($e().mark(function e(r,n){var o,a,l,i,s,c,u,p;return $e().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:c=function(){return c=Je($e().mark(function b(C){return $e().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",new Promise(function(y){C.file(function(h){n(h)?(C.fullPath&&!h.webkitRelativePath&&(Object.defineProperties(h,{webkitRelativePath:{writable:!0}}),h.webkitRelativePath=C.fullPath.replace(/^\//,""),Object.defineProperties(h,{webkitRelativePath:{writable:!1}})),y(h)):y(null)})}));case 1:case"end":return I.stop()}},b)})),c.apply(this,arguments)},s=function(b){return c.apply(this,arguments)},i=function(){return i=Je($e().mark(function b(C){var S,I,y,h,m;return $e().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:S=C.createReader(),I=[];case 2:return w.next=5,new Promise(function($){S.readEntries($,function(){return $([])})});case 5:if(y=w.sent,h=y.length,h){w.next=9;break}return w.abrupt("break",12);case 9:for(m=0;m<h;m++)I.push(y[m]);w.next=2;break;case 12:return w.abrupt("return",I);case 13:case"end":return w.stop()}},b)})),i.apply(this,arguments)},l=function(b){return i.apply(this,arguments)},o=[],a=[],r.forEach(function(v){return a.push(v.webkitGetAsEntry())}),u=function(){var v=Je($e().mark(function b(C,S){var I,y;return $e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(C){m.next=2;break}return m.abrupt("return");case 2:if(C.path=S||"",!C.isFile){m.next=10;break}return m.next=6,s(C);case 6:I=m.sent,I&&o.push(I),m.next=15;break;case 10:if(!C.isDirectory){m.next=15;break}return m.next=13,l(C);case 13:y=m.sent,a.push.apply(a,Fe(y));case 15:case"end":return m.stop()}},b)}));return function(C,S){return v.apply(this,arguments)}}(),p=0;case 9:if(!(p<a.length)){g.next=15;break}return g.next=12,u(a[p]);case 12:p++,g.next=9;break;case 15:return g.abrupt("return",o);case 16:case"end":return g.stop()}},e)}));return function(r,n){return t.apply(this,arguments)}}(),la=+new Date,sa=0;function jt(){return"rc-upload-".concat(la,"-").concat(++sa)}var ca=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],ua=function(t){un(r,t);var e=fn(r);function r(){var n;pn(this,r);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a)),q(Se(n),"state",{uid:jt()}),q(Se(n),"reqs",{}),q(Se(n),"fileInput",void 0),q(Se(n),"_isMounted",void 0),q(Se(n),"onChange",function(i){var s=n.props,c=s.accept,u=s.directory,p=i.target.files,d=Fe(p).filter(function(g){return!u||_t(g,c)});n.uploadFiles(d),n.reset()}),q(Se(n),"onClick",function(i){var s=n.fileInput;if(s){var c=i.target,u=n.props.onClick;if(c&&c.tagName==="BUTTON"){var p=s.parentNode;p.focus(),c.blur()}s.click(),u&&u(i)}}),q(Se(n),"onKeyDown",function(i){i.key==="Enter"&&n.onClick(i)}),q(Se(n),"onFileDrop",function(){var i=Je($e().mark(function s(c){var u,p,d;return $e().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(u=n.props.multiple,c.preventDefault(),c.type!=="dragover"){v.next=4;break}return v.abrupt("return");case 4:if(!n.props.directory){v.next=11;break}return v.next=7,ia(Array.prototype.slice.call(c.dataTransfer.items),function(b){return _t(b,n.props.accept)});case 7:p=v.sent,n.uploadFiles(p),v.next=14;break;case 11:d=Fe(c.dataTransfer.files).filter(function(b){return _t(b,n.props.accept)}),u===!1&&(d=d.slice(0,1)),n.uploadFiles(d);case 14:case"end":return v.stop()}},s)}));return function(s){return i.apply(this,arguments)}}()),q(Se(n),"uploadFiles",function(i){var s=Fe(i),c=s.map(function(u){return u.uid=jt(),n.processFile(u,s)});Promise.all(c).then(function(u){var p=n.props.onBatchStart;p==null||p(u.map(function(d){var g=d.origin,v=d.parsedFile;return{file:g,parsedFile:v}})),u.filter(function(d){return d.parsedFile!==null}).forEach(function(d){n.post(d)})})}),q(Se(n),"processFile",function(){var i=Je($e().mark(function s(c,u){var p,d,g,v,b,C,S,I,y;return $e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(p=n.props.beforeUpload,d=c,!p){m.next=14;break}return m.prev=3,m.next=6,p(c,u);case 6:d=m.sent,m.next=12;break;case 9:m.prev=9,m.t0=m.catch(3),d=!1;case 12:if(d!==!1){m.next=14;break}return m.abrupt("return",{origin:c,parsedFile:null,action:null,data:null});case 14:if(g=n.props.action,typeof g!="function"){m.next=21;break}return m.next=18,g(c);case 18:v=m.sent,m.next=22;break;case 21:v=g;case 22:if(b=n.props.data,typeof b!="function"){m.next=29;break}return m.next=26,b(c);case 26:C=m.sent,m.next=30;break;case 29:C=b;case 30:return S=(mr(d)==="object"||typeof d=="string")&&d?d:c,S instanceof File?I=S:I=new File([S],c.name,{type:c.type}),y=I,y.uid=c.uid,m.abrupt("return",{origin:c,data:C,parsedFile:y,action:v});case 35:case"end":return m.stop()}},s,null,[[3,9]])}));return function(s,c){return i.apply(this,arguments)}}()),q(Se(n),"saveFileInput",function(i){n.fileInput=i}),n}return dn(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(o){var a=this,l=o.data,i=o.origin,s=o.action,c=o.parsedFile;if(this._isMounted){var u=this.props,p=u.onStart,d=u.customRequest,g=u.name,v=u.headers,b=u.withCredentials,C=u.method,S=i.uid,I=d||aa,y={action:s,filename:g,data:l,file:c,headers:v,withCredentials:b,method:C||"post",onProgress:function(m){var x=a.props.onProgress;x==null||x(m,c)},onSuccess:function(m,x){var w=a.props.onSuccess;w==null||w(m,c,x),delete a.reqs[S]},onError:function(m,x){var w=a.props.onError;w==null||w(m,x,c),delete a.reqs[S]}};p(i),this.reqs[S]=I(y)}}},{key:"reset",value:function(){this.setState({uid:jt()})}},{key:"abort",value:function(o){var a=this.reqs;if(o){var l=o.uid?o.uid:o;a[l]&&a[l].abort&&a[l].abort(),delete a[l]}else Object.keys(a).forEach(function(i){a[i]&&a[i].abort&&a[i].abort(),delete a[i]})}},{key:"render",value:function(){var o=this.props,a=o.component,l=o.prefixCls,i=o.className,s=o.classNames,c=s===void 0?{}:s,u=o.disabled,p=o.id,d=o.style,g=o.styles,v=g===void 0?{}:g,b=o.multiple,C=o.accept,S=o.capture,I=o.children,y=o.directory,h=o.openFileDialogOnClick,m=o.onMouseEnter,x=o.onMouseLeave,w=o.hasControlInside,$=qe(o,ca),O=re(q(q(q({},l,!0),"".concat(l,"-disabled"),u),i,i)),R=y?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},E=u?{}:{onClick:h?this.onClick:function(){},onKeyDown:h?this.onKeyDown:function(){},onMouseEnter:m,onMouseLeave:x,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:w?void 0:"0"};return Oe.createElement(a,Te({},E,{className:O,role:w?void 0:"button",style:d}),Oe.createElement("input",Te({},ao($,{aria:!0,data:!0}),{id:p,disabled:u,type:"file",ref:this.saveFileInput,onClick:function(T){return T.stopPropagation()},key:this.state.uid,style:ne({display:"none"},v.input),className:c.input,accept:C},R,{multiple:b,onChange:this.onChange},S!=null?{capture:S}:{})),I)}}]),r}(f.Component);function zt(){}var ar=function(t){un(r,t);var e=fn(r);function r(){var n;pn(this,r);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a)),q(Se(n),"uploader",void 0),q(Se(n),"saveUploader",function(i){n.uploader=i}),n}return dn(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Oe.createElement(ua,Te({},this.props,{ref:this.saveUploader}))}}]),r}(f.Component);q(ar,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:zt,onError:zt,onSuccess:zt,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const fa=t=>{const{componentCls:e,iconCls:r}=t;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:t.colorFillAlter,border:`${ye(t.lineWidth)} dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[e]:{padding:t.padding},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:t.borderRadiusLG,"&:focus-visible":{outline:`${ye(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`}},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${e}-disabled):hover,
          &-hover:not(${e}-disabled)
        `]:{borderColor:t.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:t.margin,[r]:{color:t.colorPrimary,fontSize:t.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${ye(t.marginXXS)}`,color:t.colorTextHeading,fontSize:t.fontSizeLG},[`p${e}-hint`]:{color:t.colorTextDescription,fontSize:t.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${r},
            p${e}-text,
            p${e}-hint
          `]:{color:t.colorTextDisabled}}}}}},pa=t=>{const{componentCls:e,antCls:r,iconCls:n,fontSize:o,lineHeight:a,calc:l}=t,i=`${e}-list-item`,s=`${i}-actions`,c=`${i}-action`,u=t.fontHeightSM;return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},mn()),{lineHeight:t.lineHeight,[i]:{position:"relative",height:l(t.lineHeight).mul(o).equal(),marginTop:t.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${t.motionDurationSlow}`,"&:hover":{backgroundColor:t.controlItemBgHover},[`${i}-name`]:Object.assign(Object.assign({},vr),{padding:`0 ${ye(t.paddingXS)}`,lineHeight:a,flex:"auto",transition:`all ${t.motionDurationSlow}`}),[s]:{whiteSpace:"nowrap",[c]:{opacity:0},[n]:{color:t.actionsColor,transition:`all ${t.motionDurationSlow}`},[`
              ${c}:focus-visible,
              &.picture ${c}
            `]:{opacity:1},[`${c}${r}-btn`]:{height:u,border:0,lineHeight:1}},[`${e}-icon ${n}`]:{color:t.colorTextDescription,fontSize:o},[`${i}-progress`]:{position:"absolute",bottom:t.calc(t.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:l(o).add(t.paddingXS).equal(),fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${i}:hover ${c}`]:{opacity:1},[`${i}-error`]:{color:t.colorError,[`${i}-name, ${e}-icon ${n}`]:{color:t.colorError},[s]:{[`${n}, ${n}:hover`]:{color:t.colorError},[c]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},da=t=>{const{componentCls:e}=t,r=new Pr("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:t.calc(t.marginXS).div(-2).equal()}}),n=new Pr("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:t.calc(t.marginXS).div(-2).equal()}}),o=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:r},[`${o}-leave`]:{animationName:n}}},{[`${e}-wrapper`]:yn(t)},r,n]},ma=t=>{const{componentCls:e,iconCls:r,uploadThumbnailSize:n,uploadProgressOffset:o,calc:a}=t,l=`${e}-list`,i=`${l}-item`;return{[`${e}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[i]:{position:"relative",height:a(n).add(a(t.lineWidth).mul(2)).add(a(t.paddingXS).mul(2)).equal(),padding:t.paddingXS,border:`${ye(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusLG,"&:hover":{background:"transparent"},[`${i}-thumbnail`]:Object.assign(Object.assign({},vr),{width:n,height:n,lineHeight:ye(a(n).add(t.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:t.fontSizeHeading2,color:t.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${i}-progress`]:{bottom:o,width:`calc(100% - ${ye(a(t.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:a(n).add(t.paddingXS).equal()}},[`${i}-error`]:{borderColor:t.colorError,[`${i}-thumbnail ${r}`]:{[`svg path[fill='${Rr[0]}']`]:{fill:t.colorErrorBg},[`svg path[fill='${Rr.primary}']`]:{fill:t.colorError}}},[`${i}-uploading`]:{borderStyle:"dashed",[`${i}-name`]:{marginBottom:o}}},[`${l}${l}-picture-circle ${i}`]:{[`&, &::before, ${i}-thumbnail`]:{borderRadius:"50%"}}}}},va=t=>{const{componentCls:e,iconCls:r,fontSizeLG:n,colorTextLightSolid:o,calc:a}=t,l=`${e}-list`,i=`${l}-item`,s=t.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},mn()),{display:"block",[`${e}${e}-select`]:{width:s,height:s,textAlign:"center",verticalAlign:"top",backgroundColor:t.colorFillAlter,border:`${ye(t.lineWidth)} dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:t.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:t.marginXS,marginInlineEnd:t.marginXS}},"@supports (gap: 1px)":{gap:t.marginXS},[`${l}-item-container`]:{display:"inline-block",width:s,height:s,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[i]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${ye(a(t.paddingXS).mul(2).equal())})`,height:`calc(100% - ${ye(a(t.paddingXS).mul(2).equal())})`,backgroundColor:t.colorBgMask,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'" "'}},[`${i}:hover`]:{[`&::before, ${i}-actions`]:{opacity:1}},[`${i}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${t.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:n,margin:`0 ${ye(t.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${i}-thumbnail, ${i}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${i}-name`]:{display:"none",textAlign:"center"},[`${i}-file + ${i}-name`]:{position:"absolute",bottom:t.margin,display:"block",width:`calc(100% - ${ye(a(t.paddingXS).mul(2).equal())})`},[`${i}-uploading`]:{[`&${i}`]:{backgroundColor:t.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${i}-progress`]:{bottom:t.marginXL,width:`calc(100% - ${ye(a(t.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},ya=t=>{const{componentCls:e}=t;return{[`${e}-rtl`]:{direction:"rtl"}}},ga=t=>{const{componentCls:e,colorTextDisabled:r}=t;return{[`${e}-wrapper`]:Object.assign(Object.assign({},ro(t)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-disabled`]:{color:r,cursor:"not-allowed"}})}},ha=t=>({actionsColor:t.colorTextDescription}),wa=cn("Upload",t=>{const{fontSizeHeading3:e,fontHeight:r,lineWidth:n,controlHeightLG:o,calc:a}=t,l=Jt(t,{uploadThumbnailSize:a(e).mul(2).equal(),uploadProgressOffset:a(a(r).div(2)).add(n).equal(),uploadPicCardSize:a(o).mul(2.55).equal()});return[ga(l),fa(l),ma(l),va(l),pa(l),da(l),ya(l),so(l)]},ha);function $t(t){return Object.assign(Object.assign({},t),{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,uid:t.uid,percent:0,originFileObj:t})}function It(t,e){const r=Fe(e),n=r.findIndex(o=>{let{uid:a}=o;return a===t.uid});return n===-1?r.push(t):r[n]=t,r}function Ut(t,e){const r=t.uid!==void 0?"uid":"name";return e.filter(n=>n[r]===t[r])[0]}function ba(t,e){const r=t.uid!==void 0?"uid":"name",n=e.filter(o=>o[r]!==t[r]);return n.length===e.length?null:n}const Sa=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),n=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},xn=t=>t.indexOf("image/")===0,Ca=t=>{if(t.type&&!t.thumbUrl)return xn(t.type);const e=t.thumbUrl||t.url||"",r=Sa(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(e)||r)},je=200;function $a(t){return new Promise(e=>{if(!t.type||!xn(t.type)){e("");return}const r=document.createElement("canvas");r.width=je,r.height=je,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${je}px; height: ${je}px; z-index: 9999; display: none;`,document.body.appendChild(r);const n=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:a,height:l}=o;let i=je,s=je,c=0,u=0;a>l?(s=l*(je/a),u=-(s-i)/2):(i=a*(je/l),c=-(i-s)/2),n.drawImage(o,c,u,i,s);const p=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),e(p)},o.crossOrigin="anonymous",t.type.startsWith("image/svg+xml")){const a=new FileReader;a.onload=()=>{a.result&&typeof a.result=="string"&&(o.src=a.result)},a.readAsDataURL(t)}else if(t.type.startsWith("image/gif")){const a=new FileReader;a.onload=()=>{a.result&&e(a.result)},a.readAsDataURL(t)}else o.src=window.URL.createObjectURL(t)})}const Ia=f.forwardRef((t,e)=>{let{prefixCls:r,className:n,style:o,locale:a,listType:l,file:i,items:s,progress:c,iconRender:u,actionIconRender:p,itemRender:d,isImgUrl:g,showPreviewIcon:v,showRemoveIcon:b,showDownloadIcon:C,previewIcon:S,removeIcon:I,downloadIcon:y,extra:h,onPreview:m,onDownload:x,onClose:w}=t;var $,O;const{status:R}=i,[E,D]=f.useState(R);f.useEffect(()=>{R!=="removed"&&D(R)},[R]);const[T,j]=f.useState(!1);f.useEffect(()=>{const F=setTimeout(()=>{j(!0)},300);return()=>{clearTimeout(F)}},[]);const z=u(i);let U=f.createElement("div",{className:`${r}-icon`},z);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(E==="uploading"||!i.thumbUrl&&!i.url){const F=re(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:E!=="uploading"});U=f.createElement("div",{className:F},z)}else{const F=g!=null&&g(i)?f.createElement("img",{src:i.thumbUrl||i.url,alt:i.name,className:`${r}-list-item-image`,crossOrigin:i.crossOrigin}):z,k=re(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:g&&!g(i)});U=f.createElement("a",{className:k,onClick:me=>m(i,me),href:i.url||i.thumbUrl,target:"_blank",rel:"noopener noreferrer"},F)}const N=re(`${r}-list-item`,`${r}-list-item-${E}`),ae=typeof i.linkProps=="string"?JSON.parse(i.linkProps):i.linkProps,V=b?p((typeof I=="function"?I(i):I)||f.createElement(Co,null),()=>w(i),r,a.removeFile,!0):null,J=C&&E==="done"?p((typeof y=="function"?y(i):y)||f.createElement(yo,null),()=>x(i),r,a.downloadFile):null,ce=l!=="picture-card"&&l!=="picture-circle"&&f.createElement("span",{key:"download-delete",className:re(`${r}-list-item-actions`,{picture:l==="picture"})},J,V),K=typeof h=="function"?h(i):h,ee=K&&f.createElement("span",{className:`${r}-list-item-extra`},K),P=re(`${r}-list-item-name`),X=i.url?f.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:P,title:i.name},ae,{href:i.url,onClick:F=>m(i,F)}),i.name,ee):f.createElement("span",{key:"view",className:P,onClick:F=>m(i,F),title:i.name},i.name,ee),Z=v&&(i.url||i.thumbUrl)?f.createElement("a",{href:i.url||i.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:F=>m(i,F),title:a.previewFile},typeof S=="function"?S(i):S||f.createElement(gn,null)):null,B=(l==="picture-card"||l==="picture-circle")&&E!=="uploading"&&f.createElement("span",{className:`${r}-list-item-actions`},Z,E==="done"&&J,V),{getPrefixCls:oe}=f.useContext(gt),H=oe(),M=f.createElement("div",{className:N},U,X,ce,B,T&&f.createElement(dr,{motionName:`${H}-fade`,visible:E==="uploading",motionDeadline:2e3},F=>{let{className:k}=F;const me="percent"in i?f.createElement($o,Object.assign({},c,{type:"line",percent:i.percent,"aria-label":i["aria-label"],"aria-labelledby":i["aria-labelledby"]})):null;return f.createElement("div",{className:re(`${r}-list-item-progress`,k)},me)})),ie=i.response&&typeof i.response=="string"?i.response:(($=i.error)===null||$===void 0?void 0:$.statusText)||((O=i.error)===null||O===void 0?void 0:O.message)||a.uploadError,Q=E==="error"?f.createElement(Eo,{title:ie,getPopupContainer:F=>F.parentNode},M):M;return f.createElement("div",{className:re(`${r}-list-item-container`,n),style:o,ref:e},d?d(Q,i,s,{download:x.bind(null,i),preview:m.bind(null,i),remove:w.bind(null,i)}):Q)}),Ea=(t,e)=>{const{listType:r="text",previewFile:n=$a,onPreview:o,onDownload:a,onRemove:l,locale:i,iconRender:s,isImageUrl:c=Ca,prefixCls:u,items:p=[],showPreviewIcon:d=!0,showRemoveIcon:g=!0,showDownloadIcon:v=!1,removeIcon:b,previewIcon:C,downloadIcon:S,extra:I,progress:y={size:[-1,2],showInfo:!1},appendAction:h,appendActionVisible:m=!0,itemRender:x,disabled:w}=t,$=So(),[O,R]=f.useState(!1);f.useEffect(()=>{r!=="picture"&&r!=="picture-card"&&r!=="picture-circle"||(p||[]).forEach(P=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(P.originFileObj instanceof File||P.originFileObj instanceof Blob)||P.thumbUrl!==void 0||(P.thumbUrl="",n&&n(P.originFileObj).then(X=>{P.thumbUrl=X||"",$()}))})},[r,p,n]),f.useEffect(()=>{R(!0)},[]);const E=(P,X)=>{if(o)return X==null||X.preventDefault(),o(P)},D=P=>{typeof a=="function"?a(P):P.url&&window.open(P.url)},T=P=>{l==null||l(P)},j=P=>{if(s)return s(P,r);const X=P.status==="uploading",Z=c!=null&&c(P)?f.createElement(go,null):f.createElement(ho,null);let B=X?f.createElement(Ar,null):f.createElement(wo,null);return r==="picture"?B=X?f.createElement(Ar,null):Z:(r==="picture-card"||r==="picture-circle")&&(B=X?i.uploading:Z),B},z=(P,X,Z,B,oe)=>{const H={type:"text",size:"small",title:B,onClick:M=>{var ie,Q;X(),f.isValidElement(P)&&((Q=(ie=P.props).onClick)===null||Q===void 0||Q.call(ie,M))},className:`${Z}-list-item-action`};if(oe&&(H.disabled=w),f.isValidElement(P)){const M=Dr(P,Object.assign(Object.assign({},P.props),{onClick:()=>{}}));return f.createElement(tr,Object.assign({},H,{icon:M}))}return f.createElement(tr,Object.assign({},H),f.createElement("span",null,P))};f.useImperativeHandle(e,()=>({handlePreview:E,handleDownload:D}));const{getPrefixCls:U}=f.useContext(gt),N=U("upload",u),ae=U(),V=re(`${N}-list`,`${N}-list-${r}`),J=Fe(p.map(P=>({key:P.uid,file:P})));let K={motionDeadline:2e3,motionName:`${N}-${r==="picture-card"||r==="picture-circle"?"animate-inline":"animate"}`,keys:J,motionAppear:O};const ee=f.useMemo(()=>{const P=Object.assign({},lo(ae));return delete P.onAppearEnd,delete P.onEnterEnd,delete P.onLeaveEnd,P},[ae]);return r!=="picture-card"&&r!=="picture-circle"&&(K=Object.assign(Object.assign({},ee),K)),f.createElement("div",{className:V},f.createElement(no,Object.assign({},K,{component:!1}),P=>{let{key:X,file:Z,className:B,style:oe}=P;return f.createElement(Ia,{key:X,locale:i,prefixCls:N,className:B,style:oe,file:Z,items:p,progress:y,listType:r,isImgUrl:c,showPreviewIcon:d,showRemoveIcon:g,showDownloadIcon:v,removeIcon:b,previewIcon:C,downloadIcon:S,extra:I,iconRender:j,actionIconRender:z,itemRender:x,onPreview:E,onDownload:D,onClose:T})}),h&&f.createElement(dr,Object.assign({},K,{visible:m,forceRender:!0}),P=>{let{className:X,style:Z}=P;return Dr(h,B=>({className:re(B.className,X),style:Object.assign(Object.assign(Object.assign({},Z),{pointerEvents:X?"none":void 0}),B.style)}))}))},xa=f.forwardRef(Ea);var Oa=function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function i(u){try{c(n.next(u))}catch(p){l(p)}}function s(u){try{c(n.throw(u))}catch(p){l(p)}}function c(u){u.done?a(u.value):o(u.value).then(i,s)}c((n=n.apply(t,[])).next())})};const dt=`__LIST_IGNORE_${Date.now()}__`,Pa=(t,e)=>{const{fileList:r,defaultFileList:n,onRemove:o,showUploadList:a=!0,listType:l="text",onPreview:i,onDownload:s,onChange:c,onDrop:u,previewFile:p,disabled:d,locale:g,iconRender:v,isImageUrl:b,progress:C,prefixCls:S,className:I,type:y="select",children:h,style:m,itemRender:x,maxCount:w,data:$={},multiple:O=!1,hasControlInside:R=!0,action:E="",accept:D="",supportServerRender:T=!0,rootClassName:j}=t,z=f.useContext(oo),U=d??z,[N,ae]=At(n||[],{value:r,postState:A=>A??[]}),[V,J]=f.useState("drop"),ce=f.useRef(null),K=f.useRef(null);f.useMemo(()=>{const A=Date.now();(r||[]).forEach((W,te)=>{!W.uid&&!Object.isFrozen(W)&&(W.uid=`__AUTO__${A}_${te}__`)})},[r]);const ee=(A,W,te)=>{let L=Fe(W),G=!1;w===1?L=L.slice(-1):w&&(G=L.length>w,L=L.slice(0,w)),Er.flushSync(()=>{ae(L)});const fe={file:A,fileList:L};te&&(fe.event=te),(!G||A.status==="removed"||L.some(se=>se.uid===A.uid))&&Er.flushSync(()=>{c==null||c(fe)})},P=(A,W)=>Oa(void 0,void 0,void 0,function*(){const{beforeUpload:te,transformFile:L}=t;let G=A;if(te){const fe=yield te(A,W);if(fe===!1)return!1;if(delete A[dt],fe===dt)return Object.defineProperty(A,dt,{value:!0,configurable:!0}),!1;typeof fe=="object"&&fe&&(G=fe)}return L&&(G=yield L(G)),G}),X=A=>{const W=A.filter(G=>!G.file[dt]);if(!W.length)return;const te=W.map(G=>$t(G.file));let L=Fe(N);te.forEach(G=>{L=It(G,L)}),te.forEach((G,fe)=>{let se=G;if(W[fe].parsedFile)G.status="uploading";else{const{originFileObj:Y}=G;let Be;try{Be=new File([Y],Y.name,{type:Y.type})}catch{Be=new Blob([Y],{type:Y.type}),Be.name=Y.name,Be.lastModifiedDate=new Date,Be.lastModified=new Date().getTime()}Be.uid=G.uid,se=Be}ee(se,L)})},Z=(A,W,te)=>{try{typeof A=="string"&&(A=JSON.parse(A))}catch{}if(!Ut(W,N))return;const L=$t(W);L.status="done",L.percent=100,L.response=A,L.xhr=te;const G=It(L,N);ee(L,G)},B=(A,W)=>{if(!Ut(W,N))return;const te=$t(W);te.status="uploading",te.percent=A.percent;const L=It(te,N);ee(te,L,A)},oe=(A,W,te)=>{if(!Ut(te,N))return;const L=$t(te);L.error=A,L.response=W,L.status="error";const G=It(L,N);ee(L,G)},H=A=>{let W;Promise.resolve(typeof o=="function"?o(A):o).then(te=>{var L;if(te===!1)return;const G=ba(A,N);G&&(W=Object.assign(Object.assign({},A),{status:"removed"}),N==null||N.forEach(fe=>{const se=W.uid!==void 0?"uid":"name";fe[se]===W[se]&&!Object.isFrozen(fe)&&(fe.status="removed")}),(L=ce.current)===null||L===void 0||L.abort(W),ee(W,G))})},M=A=>{J(A.type),A.type==="drop"&&(u==null||u(A))};f.useImperativeHandle(e,()=>({onBatchStart:X,onSuccess:Z,onProgress:B,onError:oe,fileList:N,upload:ce.current,nativeElement:K.current}));const{getPrefixCls:ie,direction:Q,upload:F}=f.useContext(gt),k=ie("upload",S),me=Object.assign(Object.assign({onBatchStart:X,onError:oe,onProgress:B,onSuccess:Z},t),{data:$,multiple:O,action:E,accept:D,supportServerRender:T,prefixCls:k,disabled:U,beforeUpload:P,onChange:void 0,hasControlInside:R});delete me.className,delete me.style,(!h||U)&&delete me.id;const Le=`${k}-wrapper`,[Pe,ge,we]=wa(k,Le),[be]=Zn("Upload",er.Upload),{showRemoveIcon:Ie,showPreviewIcon:Me,showDownloadIcon:Ee,removeIcon:xe,previewIcon:ct,downloadIcon:ut,extra:ft}=typeof a=="boolean"?{}:a,Re=typeof Ie>"u"?!U:!!Ie,Ce=(A,W)=>a?f.createElement(xa,{prefixCls:k,listType:l,items:N,previewFile:p,onPreview:i,onDownload:s,onRemove:H,showRemoveIcon:Re,showPreviewIcon:Me,showDownloadIcon:Ee,removeIcon:xe,previewIcon:ct,downloadIcon:ut,iconRender:v,extra:ft,locale:Object.assign(Object.assign({},be),g),isImageUrl:b,progress:C,appendAction:A,appendActionVisible:W,itemRender:x,disabled:U}):A,_e=re(Le,I,j,ge,we,F==null?void 0:F.className,{[`${k}-rtl`]:Q==="rtl",[`${k}-picture-card-wrapper`]:l==="picture-card",[`${k}-picture-circle-wrapper`]:l==="picture-circle"}),Ye=Object.assign(Object.assign({},F==null?void 0:F.style),m);if(y==="drag"){const A=re(ge,k,`${k}-drag`,{[`${k}-drag-uploading`]:N.some(W=>W.status==="uploading"),[`${k}-drag-hover`]:V==="dragover",[`${k}-disabled`]:U,[`${k}-rtl`]:Q==="rtl"});return Pe(f.createElement("span",{className:_e,ref:K},f.createElement("div",{className:A,style:Ye,onDrop:M,onDragOver:M,onDragLeave:M},f.createElement(ar,Object.assign({},me,{ref:ce,className:`${k}-btn`}),f.createElement("div",{className:`${k}-drag-container`},h))),Ce()))}const Ve=re(k,`${k}-select`,{[`${k}-disabled`]:U}),St=f.createElement("div",{className:Ve,style:h?void 0:{display:"none"}},f.createElement(ar,Object.assign({},me,{ref:ce})));return Pe(l==="picture-card"||l==="picture-circle"?f.createElement("span",{className:_e,ref:K},Ce(St,!!h)):f.createElement("span",{className:_e,ref:K},St,Ce()))},On=f.forwardRef(Pa);var Ra=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const Aa=f.forwardRef((t,e)=>{var{style:r,height:n,hasControlInside:o=!1}=t,a=Ra(t,["style","height","hasControlInside"]);return f.createElement(On,Object.assign({ref:e,hasControlInside:o},a,{type:"drag",style:Object.assign(Object.assign({},r),{height:n})}))}),rt=On;rt.Dragger=Aa;rt.LIST_IGNORE=dt;var Na=Error,Da=EvalError,Ta=RangeError,Ma=ReferenceError,Pn=SyntaxError,wt=TypeError,Fa=URIError,La=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==o||l.enumerable!==!0)return!1}return!0},_r=typeof Symbol<"u"&&Symbol,_a=La,ja=function(){return typeof _r!="function"||typeof Symbol!="function"||typeof _r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:_a()},kt={__proto__:null,foo:{}},za=Object,Ua=function(){return{__proto__:kt}.foo===kt.foo&&!(kt instanceof za)},ka="Function.prototype.bind called on incompatible ",Ba=Object.prototype.toString,Wa=Math.max,Xa="[object Function]",jr=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},Ha=function(e,r){for(var n=[],o=r,a=0;o<e.length;o+=1,a+=1)n[a]=e[o];return n},Ga=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},qa=function(e){var r=this;if(typeof r!="function"||Ba.apply(r)!==Xa)throw new TypeError(ka+r);for(var n=Ha(arguments,1),o,a=function(){if(this instanceof o){var u=r.apply(this,jr(n,arguments));return Object(u)===u?u:this}return r.apply(e,jr(n,arguments))},l=Wa(0,r.length-n.length),i=[],s=0;s<l;s++)i[s]="$"+s;if(o=Function("binder","return function ("+Ga(i,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var c=function(){};c.prototype=r.prototype,o.prototype=new c,c.prototype=null}return o},Ya=qa,gr=Function.prototype.bind||Ya,Va=Function.prototype.call,Ka=Object.prototype.hasOwnProperty,Za=gr,Qa=Za.call(Va,Ka),_,Ja=Na,ei=Da,ti=Ta,ri=Ma,ot=Pn,nt=wt,ni=Fa,Rn=Function,Bt=function(t){try{return Rn('"use strict"; return ('+t+").constructor;")()}catch{}},He=Object.getOwnPropertyDescriptor;if(He)try{He({},"")}catch{He=null}var Wt=function(){throw new nt},oi=He?function(){try{return arguments.callee,Wt}catch{try{return He(arguments,"callee").get}catch{return Wt}}}():Wt,Ke=ja(),ai=Ua(),pe=Object.getPrototypeOf||(ai?function(t){return t.__proto__}:null),Qe={},ii=typeof Uint8Array>"u"||!pe?_:pe(Uint8Array),Ge={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_:ArrayBuffer,"%ArrayIteratorPrototype%":Ke&&pe?pe([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":Qe,"%AsyncGenerator%":Qe,"%AsyncGeneratorFunction%":Qe,"%AsyncIteratorPrototype%":Qe,"%Atomics%":typeof Atomics>"u"?_:Atomics,"%BigInt%":typeof BigInt>"u"?_:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ja,"%eval%":eval,"%EvalError%":ei,"%Float32Array%":typeof Float32Array>"u"?_:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_:FinalizationRegistry,"%Function%":Rn,"%GeneratorFunction%":Qe,"%Int8Array%":typeof Int8Array>"u"?_:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ke&&pe?pe(pe([][Symbol.iterator]())):_,"%JSON%":typeof JSON=="object"?JSON:_,"%Map%":typeof Map>"u"?_:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ke||!pe?_:pe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_:Promise,"%Proxy%":typeof Proxy>"u"?_:Proxy,"%RangeError%":ti,"%ReferenceError%":ri,"%Reflect%":typeof Reflect>"u"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ke||!pe?_:pe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ke&&pe?pe(""[Symbol.iterator]()):_,"%Symbol%":Ke?Symbol:_,"%SyntaxError%":ot,"%ThrowTypeError%":oi,"%TypedArray%":ii,"%TypeError%":nt,"%Uint8Array%":typeof Uint8Array>"u"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_:Uint32Array,"%URIError%":ni,"%WeakMap%":typeof WeakMap>"u"?_:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_:WeakSet};if(pe)try{null.error}catch(t){var li=pe(pe(t));Ge["%Error.prototype%"]=li}var si=function t(e){var r;if(e==="%AsyncFunction%")r=Bt("async function () {}");else if(e==="%GeneratorFunction%")r=Bt("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Bt("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&pe&&(r=pe(o.prototype))}return Ge[e]=r,r},zr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bt=gr,Tt=Qa,ci=bt.call(Function.call,Array.prototype.concat),ui=bt.call(Function.apply,Array.prototype.splice),Ur=bt.call(Function.call,String.prototype.replace),Mt=bt.call(Function.call,String.prototype.slice),fi=bt.call(Function.call,RegExp.prototype.exec),pi=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,di=/\\(\\)?/g,mi=function(e){var r=Mt(e,0,1),n=Mt(e,-1);if(r==="%"&&n!=="%")throw new ot("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ot("invalid intrinsic syntax, expected opening `%`");var o=[];return Ur(e,pi,function(a,l,i,s){o[o.length]=i?Ur(s,di,"$1"):l||a}),o},vi=function(e,r){var n=e,o;if(Tt(zr,n)&&(o=zr[n],n="%"+o[0]+"%"),Tt(Ge,n)){var a=Ge[n];if(a===Qe&&(a=si(n)),typeof a>"u"&&!r)throw new nt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:a}}throw new ot("intrinsic "+e+" does not exist!")},lt=function(e,r){if(typeof e!="string"||e.length===0)throw new nt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new nt('"allowMissing" argument must be a boolean');if(fi(/^%?[^%]*%?$/,e)===null)throw new ot("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=mi(e),o=n.length>0?n[0]:"",a=vi("%"+o+"%",r),l=a.name,i=a.value,s=!1,c=a.alias;c&&(o=c[0],ui(n,ci([0,1],c)));for(var u=1,p=!0;u<n.length;u+=1){var d=n[u],g=Mt(d,0,1),v=Mt(d,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new ot("property names with quotes must have matching quotes");if((d==="constructor"||!p)&&(s=!0),o+="."+d,l="%"+o+"%",Tt(Ge,l))i=Ge[l];else if(i!=null){if(!(d in i)){if(!r)throw new nt("base intrinsic for "+e+" exists, but the property is not available.");return}if(He&&u+1>=n.length){var b=He(i,d);p=!!b,p&&"get"in b&&!("originalValue"in b.get)?i=b.get:i=i[d]}else p=Tt(i,d),i=i[d];p&&!s&&(Ge[l]=i)}}return i},An={exports:{}},Xt,kr;function hr(){if(kr)return Xt;kr=1;var t=lt,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Xt=e,Xt}var yi=lt,Pt=yi("%Object.getOwnPropertyDescriptor%",!0);if(Pt)try{Pt([],"length")}catch{Pt=null}var Nn=Pt,Br=hr(),gi=Pn,Ze=wt,Wr=Nn,hi=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ze("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ze("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ze("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ze("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ze("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ze("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,i=arguments.length>6?arguments[6]:!1,s=!!Wr&&Wr(e,r);if(Br)Br(e,r,{configurable:l===null&&s?s.configurable:!l,enumerable:o===null&&s?s.enumerable:!o,value:n,writable:a===null&&s?s.writable:!a});else if(i||!o&&!a&&!l)e[r]=n;else throw new gi("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ir=hr(),Dn=function(){return!!ir};Dn.hasArrayLengthDefineBug=function(){if(!ir)return null;try{return ir([],"length",{value:1}).length!==1}catch{return!0}};var wi=Dn,bi=lt,Xr=hi,Si=wi(),Hr=Nn,Gr=wt,Ci=bi("%Math.floor%"),$i=function(e,r){if(typeof e!="function")throw new Gr("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Ci(r)!==r)throw new Gr("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,a=!0;if("length"in e&&Hr){var l=Hr(e,"length");l&&!l.configurable&&(o=!1),l&&!l.writable&&(a=!1)}return(o||a||!n)&&(Si?Xr(e,"length",r,!0,!0):Xr(e,"length",r)),e};(function(t){var e=gr,r=lt,n=$i,o=wt,a=r("%Function.prototype.apply%"),l=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(l,a),s=hr(),c=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new o("a function is required");var g=i(e,l,arguments);return n(g,1+c(0,d.length-(arguments.length-1)),!0)};var u=function(){return i(e,a,arguments)};s?s(t.exports,"apply",{value:u}):t.exports.apply=u})(An);var Ii=An.exports,Tn=lt,Mn=Ii,Ei=Mn(Tn("String.prototype.indexOf")),xi=function(e,r){var n=Tn(e,!!r);return typeof n=="function"&&Ei(e,".prototype.")>-1?Mn(n):n};const Oi={},Pi=Object.freeze(Object.defineProperty({__proto__:null,default:Oi},Symbol.toStringTag,{value:"Module"})),Ri=Vn(Pi);var wr=typeof Map=="function"&&Map.prototype,Ht=Object.getOwnPropertyDescriptor&&wr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ft=wr&&Ht&&typeof Ht.get=="function"?Ht.get:null,qr=wr&&Map.prototype.forEach,br=typeof Set=="function"&&Set.prototype,Gt=Object.getOwnPropertyDescriptor&&br?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Lt=br&&Gt&&typeof Gt.get=="function"?Gt.get:null,Yr=br&&Set.prototype.forEach,Ai=typeof WeakMap=="function"&&WeakMap.prototype,mt=Ai?WeakMap.prototype.has:null,Ni=typeof WeakSet=="function"&&WeakSet.prototype,vt=Ni?WeakSet.prototype.has:null,Di=typeof WeakRef=="function"&&WeakRef.prototype,Vr=Di?WeakRef.prototype.deref:null,Ti=Boolean.prototype.valueOf,Mi=Object.prototype.toString,Fi=Function.prototype.toString,Li=String.prototype.match,Sr=String.prototype.slice,Ue=String.prototype.replace,_i=String.prototype.toUpperCase,Kr=String.prototype.toLowerCase,Fn=RegExp.prototype.test,Zr=Array.prototype.concat,De=Array.prototype.join,ji=Array.prototype.slice,Qr=Math.floor,lr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,qt=Object.getOwnPropertySymbols,sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,at=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ve=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===at||!0)?Symbol.toStringTag:null,Ln=Object.prototype.propertyIsEnumerable,Jr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function en(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Fn.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Qr(-t):Qr(t);if(n!==t){var o=String(n),a=Sr.call(e,o.length+1);return Ue.call(o,r,"$&_")+"."+Ue.call(Ue.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ue.call(e,r,"$&_")}var cr=Ri,tn=cr.custom,rn=jn(tn)?tn:null,zi=function t(e,r,n,o){var a=r||{};if(ze(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ze(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=ze(a,"customInspect")?a.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ze(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ze(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var i=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Un(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return i?en(e,s):s}if(typeof e=="bigint"){var c=String(e)+"n";return i?en(e,c):c}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return ur(e)?"[Array]":"[Object]";var p=nl(a,n);if(typeof o>"u")o=[];else if(zn(o,e)>=0)return"[Circular]";function d(T,j,z){if(j&&(o=ji.call(o),o.push(j)),z){var U={depth:a.depth};return ze(a,"quoteStyle")&&(U.quoteStyle=a.quoteStyle),t(T,U,n+1,o)}return t(T,a,n+1,o)}if(typeof e=="function"&&!nn(e)){var g=Yi(e),v=Et(e,d);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+De.call(v,", ")+" }":"")}if(jn(e)){var b=at?Ue.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):sr.call(e);return typeof e=="object"&&!at?pt(b):b}if(el(e)){for(var C="<"+Kr.call(String(e.nodeName)),S=e.attributes||[],I=0;I<S.length;I++)C+=" "+S[I].name+"="+_n(Ui(S[I].value),"double",a);return C+=">",e.childNodes&&e.childNodes.length&&(C+="..."),C+="</"+Kr.call(String(e.nodeName))+">",C}if(ur(e)){if(e.length===0)return"[]";var y=Et(e,d);return p&&!rl(y)?"["+fr(y,p)+"]":"[ "+De.call(y,", ")+" ]"}if(Bi(e)){var h=Et(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!Ln.call(e,"cause")?"{ ["+String(e)+"] "+De.call(Zr.call("[cause]: "+d(e.cause),h),", ")+" }":h.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+De.call(h,", ")+" }"}if(typeof e=="object"&&l){if(rn&&typeof e[rn]=="function"&&cr)return cr(e,{depth:u-n});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Vi(e)){var m=[];return qr&&qr.call(e,function(T,j){m.push(d(j,e,!0)+" => "+d(T,e))}),on("Map",Ft.call(e),m,p)}if(Qi(e)){var x=[];return Yr&&Yr.call(e,function(T){x.push(d(T,e))}),on("Set",Lt.call(e),x,p)}if(Ki(e))return Yt("WeakMap");if(Ji(e))return Yt("WeakSet");if(Zi(e))return Yt("WeakRef");if(Xi(e))return pt(d(Number(e)));if(Gi(e))return pt(d(lr.call(e)));if(Hi(e))return pt(Ti.call(e));if(Wi(e))return pt(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof xr<"u"&&e===xr)return"{ [object globalThis] }";if(!ki(e)&&!nn(e)){var w=Et(e,d),$=Jr?Jr(e)===Object.prototype:e instanceof Object||e.constructor===Object,O=e instanceof Object?"":"null prototype",R=!$&&ve&&Object(e)===e&&ve in e?Sr.call(ke(e),8,-1):O?"Object":"",E=$||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",D=E+(R||O?"["+De.call(Zr.call([],R||[],O||[]),": ")+"] ":"");return w.length===0?D+"{}":p?D+"{"+fr(w,p)+"}":D+"{ "+De.call(w,", ")+" }"}return String(e)};function _n(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Ui(t){return Ue.call(String(t),/"/g,"&quot;")}function ur(t){return ke(t)==="[object Array]"&&(!ve||!(typeof t=="object"&&ve in t))}function ki(t){return ke(t)==="[object Date]"&&(!ve||!(typeof t=="object"&&ve in t))}function nn(t){return ke(t)==="[object RegExp]"&&(!ve||!(typeof t=="object"&&ve in t))}function Bi(t){return ke(t)==="[object Error]"&&(!ve||!(typeof t=="object"&&ve in t))}function Wi(t){return ke(t)==="[object String]"&&(!ve||!(typeof t=="object"&&ve in t))}function Xi(t){return ke(t)==="[object Number]"&&(!ve||!(typeof t=="object"&&ve in t))}function Hi(t){return ke(t)==="[object Boolean]"&&(!ve||!(typeof t=="object"&&ve in t))}function jn(t){if(at)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!sr)return!1;try{return sr.call(t),!0}catch{}return!1}function Gi(t){if(!t||typeof t!="object"||!lr)return!1;try{return lr.call(t),!0}catch{}return!1}var qi=Object.prototype.hasOwnProperty||function(t){return t in this};function ze(t,e){return qi.call(t,e)}function ke(t){return Mi.call(t)}function Yi(t){if(t.name)return t.name;var e=Li.call(Fi.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function zn(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Vi(t){if(!Ft||!t||typeof t!="object")return!1;try{Ft.call(t);try{Lt.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Ki(t){if(!mt||!t||typeof t!="object")return!1;try{mt.call(t,mt);try{vt.call(t,vt)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Zi(t){if(!Vr||!t||typeof t!="object")return!1;try{return Vr.call(t),!0}catch{}return!1}function Qi(t){if(!Lt||!t||typeof t!="object")return!1;try{Lt.call(t);try{Ft.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Ji(t){if(!vt||!t||typeof t!="object")return!1;try{vt.call(t,vt);try{mt.call(t,mt)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function el(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Un(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Un(Sr.call(t,0,e.maxStringLength),e)+n}var o=Ue.call(Ue.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,tl);return _n(o,"single",e)}function tl(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+_i.call(e.toString(16))}function pt(t){return"Object("+t+")"}function Yt(t){return t+" { ? }"}function on(t,e,r,n){var o=n?fr(r,n):De.call(r,", ");return t+" ("+e+") {"+o+"}"}function rl(t){for(var e=0;e<t.length;e++)if(zn(t[e],`
`)>=0)return!1;return!0}function nl(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=De.call(Array(t.indent+1)," ");else return null;return{base:r,prev:De.call(Array(e+1),r)}}function fr(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+De.call(t,","+r)+`
`+e.prev}function Et(t,e){var r=ur(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=ze(t,o)?e(t[o],t):""}var a=typeof qt=="function"?qt(t):[],l;if(at){l={};for(var i=0;i<a.length;i++)l["$"+a[i]]=a[i]}for(var s in t)ze(t,s)&&(r&&String(Number(s))===s&&s<t.length||at&&l["$"+s]instanceof Symbol||(Fn.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if(typeof qt=="function")for(var c=0;c<a.length;c++)Ln.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}var kn=lt,st=xi,ol=zi,al=wt,xt=kn("%WeakMap%",!0),Ot=kn("%Map%",!0),il=st("WeakMap.prototype.get",!0),ll=st("WeakMap.prototype.set",!0),sl=st("WeakMap.prototype.has",!0),cl=st("Map.prototype.get",!0),ul=st("Map.prototype.set",!0),fl=st("Map.prototype.has",!0),Cr=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},pl=function(t,e){var r=Cr(t,e);return r&&r.value},dl=function(t,e,r){var n=Cr(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},ml=function(t,e){return!!Cr(t,e)},vl=function(){var e,r,n,o={assert:function(a){if(!o.has(a))throw new al("Side channel does not contain "+ol(a))},get:function(a){if(xt&&a&&(typeof a=="object"||typeof a=="function")){if(e)return il(e,a)}else if(Ot){if(r)return cl(r,a)}else if(n)return pl(n,a)},has:function(a){if(xt&&a&&(typeof a=="object"||typeof a=="function")){if(e)return sl(e,a)}else if(Ot){if(r)return fl(r,a)}else if(n)return ml(n,a);return!1},set:function(a,l){xt&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new xt),ll(e,a,l)):Ot?(r||(r=new Ot),ul(r,a,l)):(n||(n={key:{},next:null}),dl(n,a,l))}};return o},yl=String.prototype.replace,gl=/%20/g,Vt={RFC1738:"RFC1738",RFC3986:"RFC3986"},$r={default:Vt.RFC3986,formatters:{RFC1738:function(t){return yl.call(t,gl,"+")},RFC3986:function(t){return String(t)}},RFC1738:Vt.RFC1738,RFC3986:Vt.RFC3986},hl=$r,Kt=Object.prototype.hasOwnProperty,We=Array.isArray,Ae=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),wl=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(We(n)){for(var o=[],a=0;a<n.length;++a)typeof n[a]<"u"&&o.push(n[a]);r.obj[r.prop]=o}}},Bn=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]<"u"&&(n[o]=e[o]);return n},bl=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(We(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Kt.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return We(e)&&!We(r)&&(o=Bn(e,n)),We(e)&&We(r)?(r.forEach(function(a,l){if(Kt.call(e,l)){var i=e[l];i&&typeof i=="object"&&a&&typeof a=="object"?e[l]=t(i,a,n):e.push(a)}else e[l]=a}),e):Object.keys(r).reduce(function(a,l){var i=r[l];return Kt.call(a,l)?a[l]=t(a[l],i,n):a[l]=i,a},o)},Sl=function(e,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},e)},Cl=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Zt=1024,$l=function(e,r,n,o,a){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),n==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var i="",s=0;s<l.length;s+=Zt){for(var c=l.length>=Zt?l.slice(s,s+Zt):l,u=[],p=0;p<c.length;++p){var d=c.charCodeAt(p);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===hl.RFC1738&&(d===40||d===41)){u[u.length]=c.charAt(p);continue}if(d<128){u[u.length]=Ae[d];continue}if(d<2048){u[u.length]=Ae[192|d>>6]+Ae[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Ae[224|d>>12]+Ae[128|d>>6&63]+Ae[128|d&63];continue}p+=1,d=65536+((d&1023)<<10|c.charCodeAt(p)&1023),u[u.length]=Ae[240|d>>18]+Ae[128|d>>12&63]+Ae[128|d>>6&63]+Ae[128|d&63]}i+=u.join("")}return i},Il=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],o=0;o<r.length;++o)for(var a=r[o],l=a.obj[a.prop],i=Object.keys(l),s=0;s<i.length;++s){var c=i[s],u=l[c];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:l,prop:c}),n.push(u))}return wl(r),e},El=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},xl=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ol=function(e,r){return[].concat(e,r)},Pl=function(e,r){if(We(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(r(e[o]));return n}return r(e)},Wn={arrayToObject:Bn,assign:Sl,combine:Ol,compact:Il,decode:Cl,encode:$l,isBuffer:xl,isRegExp:El,maybeMap:Pl,merge:bl},Xn=vl,Rt=Wn,yt=$r,Rl=Object.prototype.hasOwnProperty,Hn={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ne=Array.isArray,Al=Array.prototype.push,Gn=function(t,e){Al.apply(t,Ne(e)?e:[e])},Nl=Date.prototype.toISOString,an=yt.default,ue={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Rt.encode,encodeValuesOnly:!1,format:an,formatter:yt.formatters[an],indices:!1,serializeDate:function(e){return Nl.call(e)},skipNulls:!1,strictNullHandling:!1},Dl=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Qt={},Tl=function t(e,r,n,o,a,l,i,s,c,u,p,d,g,v,b,C,S,I){for(var y=e,h=I,m=0,x=!1;(h=h.get(Qt))!==void 0&&!x;){var w=h.get(e);if(m+=1,typeof w<"u"){if(w===m)throw new RangeError("Cyclic object value");x=!0}typeof h.get(Qt)>"u"&&(m=0)}if(typeof u=="function"?y=u(r,y):y instanceof Date?y=g(y):n==="comma"&&Ne(y)&&(y=Rt.maybeMap(y,function(J){return J instanceof Date?g(J):J})),y===null){if(l)return c&&!C?c(r,ue.encoder,S,"key",v):r;y=""}if(Dl(y)||Rt.isBuffer(y)){if(c){var $=C?r:c(r,ue.encoder,S,"key",v);return[b($)+"="+b(c(y,ue.encoder,S,"value",v))]}return[b(r)+"="+b(String(y))]}var O=[];if(typeof y>"u")return O;var R;if(n==="comma"&&Ne(y))C&&c&&(y=Rt.maybeMap(y,c)),R=[{value:y.length>0?y.join(",")||null:void 0}];else if(Ne(u))R=u;else{var E=Object.keys(y);R=p?E.sort(p):E}var D=s?r.replace(/\./g,"%2E"):r,T=o&&Ne(y)&&y.length===1?D+"[]":D;if(a&&Ne(y)&&y.length===0)return T+"[]";for(var j=0;j<R.length;++j){var z=R[j],U=typeof z=="object"&&typeof z.value<"u"?z.value:y[z];if(!(i&&U===null)){var N=d&&s?z.replace(/\./g,"%2E"):z,ae=Ne(y)?typeof n=="function"?n(T,N):T:T+(d?"."+N:"["+N+"]");I.set(e,m);var V=Xn();V.set(Qt,I),Gn(O,t(U,ae,n,o,a,l,i,s,n==="comma"&&C&&Ne(y)?null:c,u,p,d,g,v,b,C,S,V))}}return O},Ml=function(e){if(!e)return ue;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ue.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=yt.default;if(typeof e.format<"u"){if(!Rl.call(yt.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=yt.formatters[n],a=ue.filter;(typeof e.filter=="function"||Ne(e.filter))&&(a=e.filter);var l;if(e.arrayFormat in Hn?l=e.arrayFormat:"indices"in e?l=e.indices?"indices":"repeat":l=ue.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var i=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:ue.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ue.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ue.allowEmptyArrays,arrayFormat:l,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ue.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ue.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ue.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ue.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ue.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ue.encodeValuesOnly,filter:a,format:n,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ue.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ue.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ue.strictNullHandling}},Fl=function(t,e){var r=t,n=Ml(e),o,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Ne(n.filter)&&(a=n.filter,o=a);var l=[];if(typeof r!="object"||r===null)return"";var i=Hn[n.arrayFormat],s=i==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var c=Xn(),u=0;u<o.length;++u){var p=o[u];n.skipNulls&&r[p]===null||Gn(l,Tl(r[p],p,i,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var d=l.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),d.length>0?g+d:""},it=Wn,pr=Object.prototype.hasOwnProperty,Ll=Array.isArray,le={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:it.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},_l=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},qn=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},jl="utf8=%26%2310003%3B",zl="utf8=%E2%9C%93",Ul=function(e,r){var n={__proto__:null},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;o=o.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,l=o.split(r.delimiter,a),i=-1,s,c=r.charset;if(r.charsetSentinel)for(s=0;s<l.length;++s)l[s].indexOf("utf8=")===0&&(l[s]===zl?c="utf-8":l[s]===jl&&(c="iso-8859-1"),i=s,s=l.length);for(s=0;s<l.length;++s)if(s!==i){var u=l[s],p=u.indexOf("]="),d=p===-1?u.indexOf("="):p+1,g,v;d===-1?(g=r.decoder(u,le.decoder,c,"key"),v=r.strictNullHandling?null:""):(g=r.decoder(u.slice(0,d),le.decoder,c,"key"),v=it.maybeMap(qn(u.slice(d+1),r),function(C){return r.decoder(C,le.decoder,c,"value")})),v&&r.interpretNumericEntities&&c==="iso-8859-1"&&(v=_l(v)),u.indexOf("[]=")>-1&&(v=Ll(v)?[v]:v);var b=pr.call(n,g);b&&r.duplicates==="combine"?n[g]=it.combine(n[g],v):(!b||r.duplicates==="last")&&(n[g]=v)}return n},kl=function(t,e,r,n){for(var o=n?e:qn(e,r),a=t.length-1;a>=0;--a){var l,i=t[a];if(i==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:[].concat(o);else{l=r.plainObjects?Object.create(null):{};var s=i.charAt(0)==="["&&i.charAt(i.length-1)==="]"?i.slice(1,-1):i,c=r.decodeDotInKeys?s.replace(/%2E/g,"."):s,u=parseInt(c,10);!r.parseArrays&&c===""?l={0:o}:!isNaN(u)&&i!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(l=[],l[u]=o):c!=="__proto__"&&(l[c]=o)}o=l}return o},Bl=function(e,r,n,o){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,s=n.depth>0&&l.exec(a),c=s?a.slice(0,s.index):a,u=[];if(c){if(!n.plainObjects&&pr.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var p=0;n.depth>0&&(s=i.exec(a))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&pr.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}if(s){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+a.slice(s.index)+"]")}return kl(u,r,n,o)}},Wl=function(e){if(!e)return le;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?le.charset:e.charset,n=typeof e.duplicates>"u"?le.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var o=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:le.allowDots:!!e.allowDots;return{allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:le.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:le.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:le.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:le.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:le.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:le.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:le.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:le.decoder,delimiter:typeof e.delimiter=="string"||it.isRegExp(e.delimiter)?e.delimiter:le.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:le.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:le.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:le.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:le.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:le.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:le.strictNullHandling}},Xl=function(t,e){var r=Wl(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Ul(t,r):t,o=r.plainObjects?Object.create(null):{},a=Object.keys(n),l=0;l<a.length;++l){var i=a[l],s=Bl(i,n[i],r,typeof t=="string");o=it.merge(o,s,r)}return r.allowSparse===!0?o:it.compact(o)},Hl=Fl,Gl=Xl,ql=$r,Yl={formats:ql,parse:Gl,stringify:Hl};const Vl=Kn(Yl),Ir={api:"http://localhost:8090/api"},{api:Yn}=Ir;function Kl(t){return sn.post(`${Yn}/marketing/files`,JSON.stringify(t))}function Zl(t){return sn.post(`${Yn}/marketing/removeFile`,Vl.stringify(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}const ln=Ir.api+"/marketing/upload",Ql=Ir.api+"/marketing/download",As=Oe.forwardRef((t,e)=>{Qn.useForm();const[r,n]=f.useState([]),[o,a]=f.useState(!1),[l,i]=f.useState("");f.useState("");const[s,c]=f.useState(""),[u,p]=f.useState(""),d=".jpg,.jpeg,.png,.pdf,.doc,.docx,.xls,.xlsx";async function g(){const y=await Kl({});let{list:h}=y.data;h=h.map((m,x)=>({uid:x,name:m,status:"done",url:Ql+"/"+m})),n(h)}const v=y=>{const m=d.split(","),x=y.name.substring(y.name.lastIndexOf(".")),w=m.indexOf(x.toLowerCase())>-1,$=y.size/1024/1024>10;if(!w){const O=d.replace(/\./g,"").replace(",",", ");return c(`上传文件只能是 ${O} 类型`),rt.LIST_IGNORE}return $?(p("文件大小不能超过10M"),rt.LIST_IGNORE):!0},b=y=>{console.log("handleRemove",y),Zl({filename:y.name})},C=y=>{let h=[...y.fileList];h=h.slice(-5),h=h.map(m=>(m.response&&(m.url=m.response.url),m)),n(h)},S=async y=>{i(y.url||y.preview),a(!0)};function I(){return new Promise((y,h)=>{y(!0)})}return f.useEffect(()=>{g()},[]),f.useImperativeHandle(e,()=>({validate:I})),he.jsxs("div",{style:{width:"600px",margin:"0 auto 20px auto"},children:[he.jsx(Or,{orientation:"left",children:"文件上传"}),he.jsxs(rt,{multiple:!0,action:ln,fileList:r,onChange:C,beforeUpload:v,children:[he.jsx(tr,{icon:he.jsx(bo,{}),children:"Upload"}),he.jsxs("div",{children:[s?he.jsx("div",{children:s}):null,u?he.jsx("div",{children:u}):null]})]}),he.jsx(Or,{orientation:"left",children:"图片上传"}),he.jsx(rt,{listType:"picture-card",multiple:!0,action:ln,fileList:r,onChange:C,onPreview:S,onRemove:b,beforeUpload:v,children:he.jsxs("button",{style:{border:0,background:"none"},type:"button",children:[he.jsx(xo,{}),he.jsx("div",{style:{marginTop:8},children:"Upload"})]})}),l&&he.jsx(En,{wrapperStyle:{display:"none"},preview:{visible:o,onVisibleChange:y=>a(y),afterOpenChange:y=>!y&&i("")},src:l})]})});export{As as default};
