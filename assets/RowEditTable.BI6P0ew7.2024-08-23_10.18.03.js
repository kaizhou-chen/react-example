import{r as a,j as o}from"./index.DuhVyv5o.2024-08-23_10.18.03.js";import w from"./CellEditor.CLK7BQzP.2024-08-23_10.18.03.js";import{d as y,o as j}from"./tableData.BTIq064J.2024-08-23_10.18.03.js";import{F as C}from"./Table.cM3Gzlbz.2024-08-23_10.18.03.js";import{A as E}from"./index.DVnD6aBZ.2024-08-23_10.18.03.js";import{B as g}from"./button.CxjCH1x_.2024-08-23_10.18.03.js";import"./InputEditor.CNigf43-.2024-08-23_10.18.03.js";import"./index.DGokYlxL.2024-08-23_10.18.03.js";import"./ContextIsolator.6qj9FYfT.2024-08-23_10.18.03.js";import"./main.OjSk1lJ5.2024-08-23_10.18.03.js";import"./Compact.CjZqcds0.2024-08-23_10.18.03.js";import"./useSize.DatPpex6.2024-08-23_10.18.03.js";import"./index.BuUxO0_G.2024-08-23_10.18.03.js";import"./collapse.BbEVqHco.2024-08-23_10.18.03.js";import"./index.4_QlPCWs.2024-08-23_10.18.03.js";import"./reactNode.CIjHXIU4.2024-08-23_10.18.03.js";import"./row.DqtqsE4d.2024-08-23_10.18.03.js";import"./responsiveObserver.CzdNfelf.2024-08-23_10.18.03.js";import"./QuestionCircleOutlined.C6FyC1gq.2024-08-23_10.18.03.js";import"./index.CBPlX6JB.2024-08-23_10.18.03.js";import"./index.CCnEMSyB.2024-08-23_10.18.03.js";import"./compact-item.5orumCwJ.2024-08-23_10.18.03.js";import"./BaseInput.DrHqbzLr.2024-08-23_10.18.03.js";import"./useVariants.B7WEFQTj.2024-08-23_10.18.03.js";import"./pickAttrs.EkmwTggh.2024-08-23_10.18.03.js";import"./EyeInvisibleOutlined.X2FM0gyk.2024-08-23_10.18.03.js";import"./EyeOutlined.4ttGaszu.2024-08-23_10.18.03.js";import"./SearchOutlined.D6opZ_qa.2024-08-23_10.18.03.js";import"./NumberEditor.DFl9n6wU.2024-08-23_10.18.03.js";import"./DownOutlined.BvkSKCnQ.2024-08-23_10.18.03.js";import"./UpOutlined.C0emafKb.2024-08-23_10.18.03.js";import"./DateEditor.CyfEJlWB.2024-08-23_10.18.03.js";import"./index.U0vHlqQT.2024-08-23_10.18.03.js";import"./PurePanel.FXQI1NZw.2024-08-23_10.18.03.js";import"./SwapRightOutlined.mRaBYR9V.2024-08-23_10.18.03.js";import"./Overflow.DyNehgJ7.2024-08-23_10.18.03.js";import"./useIcons.DbTiIe5q.2024-08-23_10.18.03.js";import"./CheckOutlined.DcfTzwVm.2024-08-23_10.18.03.js";import"./CloseOutlined.Cxfncamn.2024-08-23_10.18.03.js";import"./SelectEditor.B8H3IueR.2024-08-23_10.18.03.js";import"./index.BCyTCIT1.2024-08-23_10.18.03.js";import"./useShowArrow.B5swFLqS.2024-08-23_10.18.03.js";import"./KeyCode.DNlgD2sM.2024-08-23_10.18.03.js";import"./List.gMN2YMfk.2024-08-23_10.18.03.js";import"./addEventListener.ntxgevWU.2024-08-23_10.18.03.js";import"./index.BhN6-H3D.2024-08-23_10.18.03.js";import"./conductUtil.Bjksvkft.2024-08-23_10.18.03.js";import"./PlusSquareOutlined.CLz3YO_L.2024-08-23_10.18.03.js";import"./index.CcWfSW6p.2024-08-23_10.18.03.js";import"./useMultipleSelect.BqGOAk4F.2024-08-23_10.18.03.js";import"./DoubleRightOutlined.BvWHJMiI.2024-08-23_10.18.03.js";import"./LeftOutlined.Cb3ECoo6.2024-08-23_10.18.03.js";import"./EllipsisOutlined.Dtkg5tQe.2024-08-23_10.18.03.js";import"./index.Dmxpwd0j.2024-08-23_10.18.03.js";import"./useBreakpoint.D1h7R19Z.2024-08-23_10.18.03.js";import"./useForceUpdate.B2o4wwE4.2024-08-23_10.18.03.js";import"./index.MWLRdmFT.2024-08-23_10.18.03.js";import"./index.CwTow6Ty.2024-08-23_10.18.03.js";import"./FilterFilled.BE-2QDW7.2024-08-23_10.18.03.js";import"./InfoCircleFilled.CsdczNuk.2024-08-23_10.18.03.js";function Tt(){const[i,p]=a.useState([]),[c,f]=a.useState(null),h=a.useRef(null),m=b(t=>{const r=i[t];f(JSON.parse(JSON.stringify(r))),r.editing=t,p([...i])},(t,r,n)=>{const d=i[t];d[r]=n,p([...i])},t=>{const r=i[t];delete r.editing,p([...i])},t=>{i[t]=c,p([...i])});return a.useEffect(()=>{y.forEach((t,r)=>{t.key=r}),p(y)},[]),o.jsxs("div",{ref:h,children:[o.jsx(C,{style:{width:"100%"},bordered:!0,columns:m,dataSource:i,scroll:{x:1e3},pagination:!1}),o.jsx(E,{style:{marginTop:"20px"},showIcon:!0,type:"warning",message:o.jsx("p",{children:"点击编辑按钮，编辑数据"})})]})}function b(i,p,c,f){const u=[{title:"日期",field:"date",type:"date"},{title:"名称",field:"name",type:"text"},{title:"年龄",field:"age",type:"number"},{title:"地区",field:"area",type:"select"},{title:"地址",field:"address"}].map(s=>{const{title:l,field:e,type:m}=s;return m?{title:l,dataIndex:e,key:e,width:200,render:(t,r,n)=>{var d;return r.editing===n?o.jsx(w,{type:m,value:t,options:j,onChange:x=>p(n,e,x)}):o.jsx("div",{style:{height:"32px",lineHeight:"32px"},children:m!=="select"?t:(d=j.find(x=>x.value===t))==null?void 0:d.label})}}:{title:l,dataIndex:e,key:e,render:(t,r,n)=>o.jsx("div",{children:t})}});return u.push({title:"操作",dataIndex:"editing",key:"editing",width:200,render:(s,l,e)=>s==null?o.jsx(g,{type:"primary",onClick:()=>{i(e)},children:"编辑"}):o.jsxs("div",{children:[o.jsx(g,{onClick:()=>{f(e)},style:{marginRight:"12px"},children:"取消"}),o.jsx(g,{type:"primary",onClick:()=>{c(e)},children:"确定"})]})}),u}export{Tt as default};
