import{r as p,j as s}from"./index.DuhVyv5o.2024-08-23_10.18.03.js";import{D as b}from"./main.OjSk1lJ5.2024-08-23_10.18.03.js";import{C as d}from"./index.DPVq9DP0.2024-08-23_10.18.03.js";import{T as g}from"./index.BhN6-H3D.2024-08-23_10.18.03.js";import{T as S}from"./index.Df7hqD19.2024-08-23_10.18.03.js";import{I as T}from"./index.CBPlX6JB.2024-08-23_10.18.03.js";import"./useSize.DatPpex6.2024-08-23_10.18.03.js";import"./KeyCode.DNlgD2sM.2024-08-23_10.18.03.js";import"./pickAttrs.EkmwTggh.2024-08-23_10.18.03.js";import"./List.gMN2YMfk.2024-08-23_10.18.03.js";import"./index.BuUxO0_G.2024-08-23_10.18.03.js";import"./conductUtil.Bjksvkft.2024-08-23_10.18.03.js";import"./PlusSquareOutlined.CLz3YO_L.2024-08-23_10.18.03.js";import"./index.CcWfSW6p.2024-08-23_10.18.03.js";import"./collapse.BbEVqHco.2024-08-23_10.18.03.js";import"./Compact.CjZqcds0.2024-08-23_10.18.03.js";import"./reactNode.CIjHXIU4.2024-08-23_10.18.03.js";import"./CloseOutlined.Cxfncamn.2024-08-23_10.18.03.js";import"./EllipsisOutlined.Dtkg5tQe.2024-08-23_10.18.03.js";import"./Overflow.DyNehgJ7.2024-08-23_10.18.03.js";import"./PlusOutlined.DzoNsZ58.2024-08-23_10.18.03.js";import"./ContextIsolator.6qj9FYfT.2024-08-23_10.18.03.js";import"./index.CCnEMSyB.2024-08-23_10.18.03.js";import"./compact-item.5orumCwJ.2024-08-23_10.18.03.js";import"./BaseInput.DrHqbzLr.2024-08-23_10.18.03.js";import"./useVariants.B7WEFQTj.2024-08-23_10.18.03.js";import"./EyeInvisibleOutlined.X2FM0gyk.2024-08-23_10.18.03.js";import"./EyeOutlined.4ttGaszu.2024-08-23_10.18.03.js";import"./SearchOutlined.D6opZ_qa.2024-08-23_10.18.03.js";import"./button.CxjCH1x_.2024-08-23_10.18.03.js";const v=[{title:"动态组件 (根据文件名动态加载)",key:"dynamic",children:[{title:"表单页",key:"forms",children:[{title:"基础表单",key:"BasicForm"},{title:"多步骤表单",key:"StepForm"}]},{title:"表格页",key:"tables",children:[{title:"表格 + Redux",key:"BasicTable"},{title:"可编辑表格",key:"EditableTable"}]},{title:"其他",key:"other",children:[{title:"常用工具",key:"Tools"}]}]}],C={"tree-layout":"_tree-layout_1it9s_1"},{Search:E}=T;function oe(){const[i,m]=p.useState([]),[n,r]=p.useState(),[o,c]=p.useState(""),y=(t,l)=>{const{node:e}=l;if(e.children)return;i.find(j=>j.key===e.key)||(i.push({label:e.title,key:e.key,children:""}),m([...i])),n!==e.key&&r(e.key)},f=t=>{const l=i.findIndex(a=>a.key===t),e=i.filter(a=>a.key!==t);if(e.length&&t===n){const{key:a}=e[l===e.length?l-1:l];r(a)}m(e)},h=(t,l)=>{l==="remove"&&f(t)},u=t=>{r(t)},x=t=>{c(t.target.value)},k=p.useMemo(()=>I(v,o),[o]);return s.jsxs("div",{className:C["tree-layout"],style:{display:"flex"},children:[s.jsxs(d,{style:{width:"280px",minHeight:"100%"},children:[s.jsx(E,{style:{marginBottom:8},placeholder:"搜索",onChange:x}),s.jsx(g,{onSelect:y,treeData:k,defaultExpandAll:!0})]}),s.jsxs("div",{style:{flex:"1",marginLeft:"20px",display:"flex",flexDirection:"column"},children:[s.jsx(S,{hideAdd:!0,type:"editable-card",activeKey:n,items:i,onEdit:h,onChange:u}),s.jsx(d,{style:{flex:1},children:s.jsx(b,{name:n})})]})]})}function I(i,m){const n=(r,o)=>{if(o.title.indexOf(m)>-1)return r.push(o),r;if(o.children){const c=o.children.reduce(n,[]);c.length&&r.push({...o,children:c})}return r};return i.reduce(n,[])}export{oe as default};
